<!DOCTYPE html>


<html lang="zh-CN">


<head>
  <meta charset="utf-8" />
    
  <meta name="description" content="阿巴阿巴QAQ" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
  <title>
     困困
  </title>
  <meta name="generator" content="hexo-theme-ayer">
  
  <link rel="shortcut icon" href="/images/cg.jpg" />
  
  
<link rel="stylesheet" href="/dist/main.css">

  <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Shen-Yu/cdn/css/remixicon.min.css">
  
<link rel="stylesheet" href="/css/custom.css">

  
  <script src="https://cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js"></script>
  
  

  

<link rel="alternate" href="/atom.xml" title="困困" type="application/atom+xml">
</head>

</html>

<body>
  <div id="app">
    
      
      <canvas width="1777" height="841"
        style="position: fixed; left: 0px; top: 0px; z-index: 99999; pointer-events: none;"></canvas>
      
    <main class="content on">
      
<section class="cover">
    
  <div class="cover-frame">
    <div class="bg-box">
      <img src="/images/bj2.jpg" alt="image frame" />
    </div>
    <div class="cover-inner text-center text-white">
      <h1><a href="/">困困</a></h1>
      <div id="subtitle-box">
        
        <span id="subtitle"></span>
        
      </div>
      <div>
        
      </div>
    </div>
  </div>
  <div class="cover-learn-more">
    <a href="javascript:void(0)" class="anchor"><i class="ri-arrow-down-line"></i></a>
  </div>
</section>



<script src="https://cdn.jsdelivr.net/npm/typed.js@2.0.11/lib/typed.min.js"></script>


<!-- Subtitle -->

  <script>
    try {
      var typed = new Typed("#subtitle", {
        strings: ['我是一只小菜鸡呜呜呜~', '', ''],
        startDelay: 0,
        typeSpeed: 200,
        loop: true,
        backSpeed: 100,
        showCursor: true
      });
    } catch (err) {
      console.log(err)
    }
  </script>
  
<div id="main">
  <section class="outer">
  
  
  
<div class="notice" style="margin-top:50px">
    <i class="ri-heart-fill"></i>
    <div class="notice-content">a little vegetable chicken</div>
</div>


<style>
    .notice {
        padding: 20px;
        border: 1px dashed #e6e6e6;
        color: #969696;
        position: relative;
        display: inline-block;
        width: 100%;
        background: #fbfbfb50;
        border-radius: 10px;
    }

    .notice i {
        float: left;
        color: #999;
        font-size: 16px;
        padding-right: 10px;
        vertical-align: middle;
        margin-top: -2px;
    }

    .notice-content {
        display: initial;
        vertical-align: middle;
    }
</style>
  
  <article class="articles">
    
    
    
    
    <article
  id="post-Java-10容器"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2021/04/20/Java-10%E5%AE%B9%E5%99%A8/"
    >Java 10容器</a> 
</h2>
 

    </header>
     
    <div class="article-meta">
      <a href="/2021/04/20/Java-10%E5%AE%B9%E5%99%A8/" class="article-date">
  <time datetime="2021-04-20T13:45:30.000Z" itemprop="datePublished">2021-04-20</time>
</a> 
  <div class="article-category">
    <a class="article-category-link" href="/categories/Java/">Java</a>
  </div>
   
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
   
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
    </footer>
  </div>

    
 
    
</article>

    
    <article
  id="post-Java-9流"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2021/04/19/Java-9%E6%B5%81/"
    >Java 9流</a> 
</h2>
 

    </header>
     
    <div class="article-meta">
      <a href="/2021/04/19/Java-9%E6%B5%81/" class="article-date">
  <time datetime="2021-04-19T02:32:08.000Z" itemprop="datePublished">2021-04-19</time>
</a> 
  <div class="article-category">
    <a class="article-category-link" href="/categories/Java/">Java</a>
  </div>
   
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <h1 id="流的定义"><a href="#流的定义" class="headerlink" title="流的定义"></a>流的定义</h1><ul>
<li><strong>流就是程序和设备之间嫁接起来的一根用于数据传输的管道</strong>，这个管道上有很多按钮,不同的按钮可以实现不同的功能</li>
<li>这根带按钮的用于数据传输的管道就是流</li>
<li><strong>流就是一根管道</strong></li>
<li>流是管道，<strong>程序和设备嫁接起来的用于数据传输的管道</strong></li>
<li>管道上有很多的按钮，不同按钮对应不同方法，调用不同方法就是按下不同按钮</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">FileReader fr = <span class="keyword">new</span> FileReader(<span class="string">&quot;D:\\shell.php&quot;</span>); <span class="comment">//流对象产生，一根管子（fr）从文件指向程序</span></span><br></pre></td></tr></table></figure>

<p><img src="/2021/04/19/Java-9%E6%B5%81/%E6%B5%81.png"></p>
<p><img src="/2021/04/19/Java-9%E6%B5%81/%E6%B5%81%E7%A4%BA%E6%84%8F%E5%9B%BE1.png"></p>
<p><img src="/2021/04/19/Java-9%E6%B5%81/%E6%B5%81%E7%A4%BA%E6%84%8F%E5%9B%BE2.png"></p>
<h1 id="流的分类标准"><a href="#流的分类标准" class="headerlink" title="流的分类标准"></a>流的分类标准</h1><p>java.io 包中定义了多个流类型(类或抽象类)来实现输入/输出功能；可以从不同的角度对其进行分类；</p>
<p>​    按数据流的方向不同可以分为输入流和输出流。</p>
<p>​    按处理数据单位不同可以分为字节流和字符流</p>
<p>​    按照功能不同可以分为节点流和处流。</p>
<p>J2SDK 所提供的所有流类型位于包 java.io 内都分别继承自以下四种抽象流类型。</p>
<table>
<thead>
<tr>
<th></th>
<th>字节流</th>
<th>字符流</th>
</tr>
</thead>
<tbody><tr>
<td>输入流</td>
<td>Inputstream</td>
<td>Reader</td>
</tr>
<tr>
<td>输出流</td>
<td>outputstream</td>
<td>Writer</td>
</tr>
</tbody></table>
<p>节点流可以是原始流</p>
<p>包裹流：对原始流的加工处理，外部提供一些功能更加强大、人性化的按钮</p>
<p>字节流：一个一个发送</p>
<p>字符流：两个一起发送</p>
<h1 id="节点流与处理流"><a href="#节点流与处理流" class="headerlink" title="节点流与处理流"></a>节点流与处理流</h1><p><img src="/2021/04/19/Java-9%E6%B5%81/%E8%8A%82%E7%82%B9%E6%B5%81%E4%B8%8E%E5%A4%84%E7%90%86%E6%B5%81.png"></p>
<h2 id="必须掌握的知识点"><a href="#必须掌握的知识点" class="headerlink" title="必须掌握的知识点"></a>必须掌握的知识点</h2><ul>
<li>什么叫流</li>
<li>流与类的关系<ul>
<li>如果一个类是用作设备和程序之间的数据传输，则这个类有一个新的名字叫流</li>
<li>流一定是类，但类不一定是流</li>
</ul>
</li>
<li>原始流与包裹流关系</li>
</ul>
<h1 id="四大基本抽象流"><a href="#四大基本抽象流" class="headerlink" title="四大基本抽象流"></a>四大基本抽象流</h1><ul>
<li><code>InputStream</code> <code>OutputStream</code> <code>Reader</code> <code>Writer</code> 这四个类都是抽象类</li>
<li>凡是以<strong>stream</strong>结尾的都是字节流</li>
</ul>
<h2 id="InputStream流中常用的方法"><a href="#InputStream流中常用的方法" class="headerlink" title="InputStream流中常用的方法"></a>InputStream流中常用的方法</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">read</span><span class="params">()</span> <span class="keyword">throws</span> IOException</span></span><br><span class="line"><span class="function">	读取一个字节并以整数形式返回</span></span><br><span class="line"><span class="function">	如果读取到输入流的末尾则返回-1</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">read</span><span class="params">(<span class="keyword">byte</span>[] b)</span> <span class="keyword">throws</span> lOException</span></span><br><span class="line"><span class="function">	从输入流中读取一定数量的字节，并将其存储在缓冲区数组b中。以整数形式返回实际读取的字节数</span></span><br><span class="line"><span class="function">	如果b的长度为0，则不读取任何字节并返回0</span>;如果因为流位于文件末尾而没有可用的字节，则返回值-<span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">例子:</span><br><span class="line">	FilelnputStream fis = <span class="keyword">new</span> FilelnputStream(<span class="string">&quot;d:\\share\\errorlog.txt&quot;</span>); </span><br><span class="line">	len = fis.read(buf); <span class="comment">//从fis流所关联的d:\\share\\errorlog.txt文件中读取数据，并将读取出来的数据写入buf数组中，返回值是实际写入buf数组的字节个数,如果读取到文件的结尾，则返回-1</span></span><br><span class="line">[文件读完写入buf，Len记录着返回的字节个数]</span><br></pre></td></tr></table></figure>

<p><code>public int read(byte[] b, int off, int len) throws lOException</code></p>
<ul>
<li>从输入流中最多读取len个字节的数据并存入 byte数组中</li>
<li>b表示读取的数据要存入的数组的名字</li>
<li>off表示第一个读出的数据要存入的位置,是下标</li>
<li>len表示最多能读取的字节数</li>
<li>将从输入流所关联到的设备中读取的第一个字节存储在元素b[off]中，下一个字节存储在b[off+1]中，依次类推。读取的字节数最多等于len</li>
<li>尝试读取len个字节,但读取的字节也可能小于该值。以整数形式返回实际读取的字节数。</li>
<li>如果读到了文件的末尾,则返回-1</li>
</ul>
<p><code>void close() throws lOException</code></p>
<p>​    关闭此输入流并释放与该流关联的所有系统资源</p>
<p><code>long skip(long n) throws lOException</code>    </p>
<p>​    跳过和丢弃此输入流中数据的n个字节。(很少用)</p>
<h2 id="OutputStream流中常用的方法"><a href="#OutputStream流中常用的方法" class="headerlink" title="OutputStream流中常用的方法"></a>OutputStream流中常用的方法</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//向输出流中写入一个字节数据，该字节数据为参数b的低8位</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">write</span><span class="params">(<span class="keyword">int</span> b)</span> <span class="keyword">throws</span> IOException</span></span><br><span class="line"><span class="function">    </span></span><br><span class="line"><span class="function"><span class="comment">//将一个字节类型的数组中的数据写入输出流</span></span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">write</span> <span class="params">(<span class="keyword">byte</span>[] b)</span> <span class="keyword">throws</span> IOException</span></span><br><span class="line"><span class="function">    </span></span><br><span class="line"><span class="function"><span class="comment">//将一个字节类型的数组中的从指定位置（off）开始的len个字节写入到输出流</span></span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">write</span> <span class="params">(<span class="keyword">byte</span>[] b, <span class="keyword">int</span> off, <span class="keyword">int</span> len)</span> <span class="keyword">throws</span> IOException</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="comment">//关闭流释放内存资源</span></span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">close</span><span class="params">()</span><span class="keyword">throws</span> IOException</span></span><br><span class="line"><span class="function">    </span></span><br><span class="line"><span class="function"><span class="comment">//将输出流中缓冲的数据全部写出到目的地</span></span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">flush</span><span class="params">(<span class="keyword">throws</span> IOException</span></span></span><br></pre></td></tr></table></figure>

<p><strong>所有的输入流是没有flusch方法，输出流才有flush方法</strong></p>
<h2 id="Reader流的常用方法"><a href="#Reader流的常用方法" class="headerlink" title="Reader流的常用方法"></a>Reader流的常用方法</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//读取一个字符并以整数的形式返回(0~255)，如果返回-1已到输入流的末尾。</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">read</span><span class="params">()</span> <span class="keyword">throws</span> IOException</span></span><br><span class="line"><span class="function">    </span></span><br><span class="line"><span class="function"><span class="comment">//读取一系列字符并存储到一个数组buffer,返回实际读取的字符数，如果读取前已到输入流的末尾返回-1</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">read</span> <span class="params">(<span class="keyword">char</span>[] cbuf)</span><span class="keyword">throws</span> IOException</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="comment">//最多读取length个字符,并存储到一个数组buffer从length位置开始,返回实际读取的字符数，如果读取前以到输入流的末尾返回-1</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">read</span><span class="params">(<span class="keyword">char</span>[] cbuf, <span class="keyword">int</span> offset, <span class="keyword">int</span> length)</span> <span class="keyword">throws</span> IOException</span></span><br><span class="line"><span class="function">    </span></span><br><span class="line"><span class="function"><span class="comment">//关闭流释放内存资源</span></span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">close</span><span class="params">()</span> <span class="keyword">throws</span> IOException</span></span><br><span class="line"><span class="function">    </span></span><br><span class="line"><span class="function"><span class="comment">//跳过n个字符不读,返回实际跳过的字节数</span></span></span><br><span class="line"><span class="function"><span class="keyword">long</span> <span class="title">skip</span><span class="params">(<span class="keyword">long</span> n)</span> <span class="keyword">throws</span> IOException</span></span><br></pre></td></tr></table></figure>

<h2 id="Writer流中常用方法"><a href="#Writer流中常用方法" class="headerlink" title="Writer流中常用方法"></a>Writer流中常用方法</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//向输出流中写入一个字符数据，该字节数据为参数b的低16位</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">write</span><span class="params">(<span class="keyword">int</span> c)</span><span class="keyword">throws</span> IOException</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="comment">//将一个字符类型的数组中的数据写入输出流,</span></span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">write</span><span class="params">(<span class="keyword">char</span>[]cbuf)</span> <span class="keyword">throws</span> IOException1</span></span><br><span class="line"><span class="function">    </span></span><br><span class="line"><span class="function"><span class="comment">//将一个字符类型的数组中的从指定位置(offset）开始的length个字符写入到输出流</span></span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">write</span><span class="params">(<span class="keyword">char</span>[]cbuf, <span class="keyword">int</span> offset, <span class="keyword">int</span> length)</span> <span class="keyword">throws</span> IOException</span></span><br><span class="line"><span class="function">    </span></span><br><span class="line"><span class="function"><span class="comment">//将一个字符串中的字符写入到输出流</span></span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">write</span><span class="params">(String string)</span> <span class="keyword">throws</span> IOException</span></span><br><span class="line"><span class="function">    </span></span><br><span class="line"><span class="function"><span class="comment">//将一个字符串从offset开始的1ength个字符写入到输出流</span></span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">write</span><span class="params">(String string, <span class="keyword">int</span> offset, <span class="keyword">int</span> length)</span> <span class="keyword">throws</span> IOException</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="comment">//关闭流释放内存资源</span></span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">close</span><span class="params">()</span> <span class="keyword">throws</span> IOException</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="comment">//将输出流中缓冲的数据全部写出到目的地</span></span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">flush</span><span class="params">()</span> <span class="keyword">throws</span> IOException</span></span><br></pre></td></tr></table></figure>

<h2 id="字符流"><a href="#字符流" class="headerlink" title="字符流"></a>字符流</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestI0</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">		FileReader fr = <span class="keyword">new</span> FileReader(<span class="string">&quot;D:/share/S5/1.php&quot;</span>);</span><br><span class="line">		<span class="keyword">int</span> ch;</span><br><span class="line">        <span class="keyword">int</span> cnt = <span class="number">0</span>;</span><br><span class="line">        </span><br><span class="line">        ch = fr.read();</span><br><span class="line">        <span class="keyword">while</span> (-<span class="number">1</span> !=ch)</span><br><span class="line">        &#123;</span><br><span class="line">			++cnt;</span><br><span class="line">			System.out.printf(<span class="string">&quot;%c&quot;</span>, (<span class="keyword">char</span>)ch);</span><br><span class="line">            ch = fr.read();</span><br><span class="line">		&#125;</span><br><span class="line">		System.out.printf(<span class="string">&quot;该文件字符的个数是:%d\n&quot;</span>, cnt);</span><br><span class="line">        fr.close();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>fr返回的是一个字符的编码对应的数字</p>
<p>输出文本使用字符流：</p>
<p>1.不会乱码</p>
<p>2.速度快</p>
<p><strong>字符流只能处理文本信息，字节流可以处理任何信息</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestFileReaderHriterCopy</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">		FileReader fr = <span class="keyword">new</span> FileReader(<span class="string">&quot;D:\1.php&quot;</span>);</span><br><span class="line">        Filewriter fw = <span class="keyword">new</span> Filewriter(<span class="string">&quot;d:/zhangsan. haha&quot;</span>);</span><br><span class="line">		<span class="keyword">int</span> ch;</span><br><span class="line">        </span><br><span class="line">		ch = fr.read();</span><br><span class="line">        <span class="keyword">while</span> (-<span class="number">1</span> != ch)</span><br><span class="line">        &#123;</span><br><span class="line">			fw.write(ch);</span><br><span class="line">            ch = fr.read();</span><br><span class="line">		&#125;</span><br><span class="line">		fw.flush();</span><br><span class="line">        fr.clsoe();</span><br><span class="line">        fw.close();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>​    如果不刷新缓存器，内容可能写不进去，写完要刷新，有时候需要flush，有时候不需要，为了保证都先 flush() 再关闭，就不会出错</p>
<p><strong>文本文件复制拷贝可以使用字节流，但读取显示要字节流</strong></p>
<p> read() 返回的是原始文件二进制代码对应的字符</p>
<p>​    字符流不能处理非文本文件，文件本来不是一个字符，当成字符就会出错，存在编码解码问题</p>
<h2 id="字节流与字符流区别"><a href="#字节流与字符流区别" class="headerlink" title="字节流与字符流区别"></a>字节流与字符流区别</h2><ul>
<li><strong><code>FilelnputStream</code> 和 <code>FileOutputStream</code> 可以完成所有格式文件的赋值</strong></li>
<li><strong><code>FileReader</code> 和 <code>FileWriter</code> 只可以完成文本文件的复制，却无法完成视频格式文件的复制</strong></li>
<li>因为字节是不需要解码和编码的，将字节转化为字符才存在解码和解码的问题</li>
<li>字节流可以从所有格式的设备中读写数据，但字符流只能从文本格式的设备中读写数据</li>
</ul>
<h1 id="文件流"><a href="#文件流" class="headerlink" title="文件流"></a>文件流</h1><p>文件流包括<br>    <code>FilelnputStream Fileoutputstream</code>     —-字节流<br>    <code>FileReader FileWriter</code>                            —-字符流</p>
<h2 id="FilelnputStream的使用"><a href="#FilelnputStream的使用" class="headerlink" title="FilelnputStream的使用"></a>FilelnputStream的使用</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">lnputStream   是用来读取字节的，是个抽象类，我们通常使用的是该类的子类</span><br><span class="line">    </span><br><span class="line">FilelnputStream 是 InputStream的子类，利用 FilelnputStream 可以将一个文件的内容按字节为单位读取出来</span><br><span class="line">    </span><br><span class="line">FilelnputStream 有一个很常用的构造函数</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">FilelnputStream</span><span class="params">(String fileName)</span> <span class="keyword">throws</span> FileNotFoundException</span></span><br><span class="line"><span class="function">    利用该构造函数可以实现将输入流连接到某个文件的功能</span></span><br><span class="line"><span class="function">	必须对本构造函数抛出的异常进行捕捉</span></span><br><span class="line"><span class="function">	如果用字符串来表示操作系统的文件路径时，我们可以使用\\ 和 /两种方式来作为文件夹的路径分隔符</span></span><br><span class="line"><span class="function">    </span></span><br><span class="line"><span class="function">FileOutputStream 同理,不再赘述</span></span><br></pre></td></tr></table></figure>

<h2 id="FileReader的使用"><a href="#FileReader的使用" class="headerlink" title="FileReader的使用"></a>FileReader的使用</h2><ul>
<li>Reader 是用来读取字符的，是个抽象类，我们通常使用的是该类的子类</li>
<li>FileReader 是 Reader 的子类，利用 FileReader 可以将一个文件的内容以字符为单位读取出来</li>
<li>FileReader有一个很常用的构造函数</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">FileReader</span><span class="params">(String fileName)</span> <span class="keyword">throws</span> FileNotFoundException</span></span><br><span class="line"><span class="function">    利用该构造函数可以实现将输入流连接到某个文件的功能</span></span><br><span class="line"><span class="function">	必须对本构造函数抛出的异常进行捕捉</span></span><br><span class="line"><span class="function">	如果用字符串来表示操作系统的文件路径时，我们可以使用 \\ 和 / 两种方式来作为文件夹的路径分隔符</span></span><br></pre></td></tr></table></figure>

<ul>
<li>FileWriter 同理,不再赘述</li>
</ul>
<h1 id="缓存流"><a href="#缓存流" class="headerlink" title="缓存流"></a>缓存流</h1><ul>
<li>缓冲流就是带有缓冲区的输入输出流</li>
<li>缓冲流可以显著的减少我们对IO访问的次数，保护我们的硬盘</li>
<li>缓冲流本身就是处理流(处理流也叫包裹流)，缓冲流必须得依附于节点流{节点流也叫原始流)</li>
<li>处理流是包裹在原始节点流上的流,相当于包括在管道上的管道</li>
</ul>
<p>​    缓冲流要”套接”在相应的节点流之上，对读写的数据提供了缓冲的功能，提高了读写的效率，同时增加了一些新的方法。<br>  J2SDK提供了四种缓存流，其常用的构造方法为:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">BufferedReader(Reader in)</span><br><span class="line">BufferedReader(Reader in,<span class="keyword">int</span> sz) <span class="comment">//sz为自定义缓存区的大小</span></span><br><span class="line">Bufferedwriter(writer out)</span><br><span class="line">Bufferedwriter(writer out ,<span class="keyword">int</span> sz)</span><br><span class="line">BufferedInputstream(I nputstream in)</span><br><span class="line">BufferedInputstream(Inputstream in,<span class="keyword">int</span> size)</span><br><span class="line">Bufferedoutputstream(outputstream out)</span><br><span class="line">Bufferedoutputstream(outputstream out ,<span class="keyword">int</span> size)</span><br></pre></td></tr></table></figure>

<ul>
<li>缓冲输入流支持其父类的 mark 和 reset 方法。（mark是标记）</li>
<li>BufferedReader 提供了 readLine 方法用于读取一行字符串(以\r或\n分隔）。</li>
<li>Bufferedwriter提供了newLine用于写入一个行分隔符。</li>
<li>对于输出的缓冲流，写出的数据会先在内存中缓存，使用f1ush方法将会使内存中的数据立刻写出。</li>
</ul>
<h2 id="BufferedOutputStream-和-BufferedInputStream"><a href="#BufferedOutputStream-和-BufferedInputStream" class="headerlink" title="BufferedOutputStream 和 BufferedInputStream"></a>BufferedOutputStream 和 BufferedInputStream</h2><ul>
<li>BufferedOutputStream：带缓冲的输出流，允许一次向硬盘写入多个字节的数据</li>
<li>BufferedInputStream：带缓冲的输入流，允许一次向程序中读入多个字节的数据</li>
<li>BufferedOutputStream 和 BufferedlnputStream 都是包裹流,必须的依附于OutputStream和InputStream</li>
<li>例子:<ul>
<li>利用BufferedOutputStream和 BufferedInputStream完成大容量文件的复制，这远比单纯利用FilelnputStream 和 FileOutputStream要快得多</li>
</ul>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">BufferedInputStream bis = <span class="keyword">new</span> BufferedInputStream(</span><br><span class="line">	<span class="keyword">new</span> FileInputStream(<span class="string">&quot;D:\\综艺\\电影\\猫和老鼠CD4.rmvb&quot;</span>)</span><br><span class="line">			);  <span class="comment">//bis输入流有个默认的缓冲区，大小为32个字节</span></span><br><span class="line"><span class="keyword">byte</span>[] buf = <span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">1024</span>];</span><br><span class="line"><span class="keyword">int</span> len = bis.read(buf, <span class="number">0</span>, <span class="number">1024</span>);</span><br></pre></td></tr></table></figure>

<p>​    <strong>要注意，bis.read(buf, 0, 1024); 这不是从buf中读数据，而是从bis所关联到的“D:\综艺\电影\猫和老鼠CD4.rmvb”文件中读取数据，并将读取的数据写入bis自己的默认缓冲区中，然后再将缓冲区的内容写入buf数组中，每次最多向buf数组中写入1024个字节，返回实际写入buf数组的字节个数，如果读到了文件的末尾，无法再向buf数组中写入数据,则返回-1</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">BufferedInputStream流中有</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">read</span><span class="params">(bytel b)</span></span></span><br><span class="line"><span class="function">	用来把从当前流关联到的设备中读取出来的数据存入一个<span class="keyword">byte</span>数组中</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">BufferedOutputStream流中有</span></span><br><span class="line"><span class="function">	<span class="keyword">public</span> <span class="keyword">int</span> <span class="title">write</span><span class="params">(<span class="keyword">byte</span> b)</span></span></span><br><span class="line"><span class="function">	用来把<span class="keyword">byte</span>数组中的数据输出到当前流所关联到的设备中</span></span><br></pre></td></tr></table></figure>

<p>如果我们希望用 BufferedInputStream 和 BufferedOutputStream 完成“将一个设备中的数据导入另一个设备中”，我们就应该定义一个临时的byte类型的数组，用这个临时数组作为输入流与输出流进行交互的中转枢纽</p>
<p>​    <strong>输入流 BufferedInputStream  和输出流BufferedOutputStream是如何产生关联的，靠什么连接一起，靠 buf，先把输入的数据放进 buf，输出流从 buf 读出数据，输出到输出流所连接的设备中</strong></p>
<p>​    BufferedInputstream BufferedoutputStream 要比 FilelnputStream File OutputStream读写数据的速度快</p>
<p><strong>我们只有</strong></p>
<ul>
<li>BufferedInputStream</li>
<li>BufferedOutputStream类</li>
<li>BufferedWriter</li>
<li>BufferedReader</li>
</ul>
<h2 id="BufferedReader-和-BufferedWriter"><a href="#BufferedReader-和-BufferedWriter" class="headerlink" title="BufferedReader 和 BufferedWriter"></a>BufferedReader 和 BufferedWriter</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">br = <span class="keyword">new</span> BufferedReader(</span><br><span class="line">	<span class="keyword">new</span> FileReader(<span class="string">&quot;c:\\1.php&quot;</span>)</span><br><span class="line">    );</span><br><span class="line">bw = <span class="keyword">new</span> BufferedWriter(</span><br><span class="line">	<span class="keyword">new</span> FileHriter(<span class="string">&quot;d:/share/Hriter.txt&quot;</span>)</span><br><span class="line">	);</span><br><span class="line"></span><br><span class="line">String str = <span class="keyword">null</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span> (<span class="keyword">null</span> != (str=br.readLine()))  <span class="comment">//br.readLine() 读取一行字符但不包括换行符，一个个读发现有换行符就把前面的字符返回，并自动丢弃换行符</span></span><br><span class="line">&#123;</span><br><span class="line">    bw.write(str);</span><br><span class="line">	bw.newLine();  <span class="comment">//写入一个换行符这行不能省</span></span><br><span class="line">&#125;</span><br><span class="line">bw.flush() ;</span><br></pre></td></tr></table></figure>

<h1 id="数据流"><a href="#数据流" class="headerlink" title="数据流"></a>数据流</h1><h2 id="DatalnputStream"><a href="#DatalnputStream" class="headerlink" title="DatalnputStream"></a>DatalnputStream</h2><p>​    DatalnputStream能够以一种与机器无关的方式，直接从底层字节输入流读取Java基本类型和Sring类型的数据，常用方法包括</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">DatalnputStream</span><span class="params">(InputStream in)</span></span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">final</span> <span class="keyword">boolean</span> <span class="title">readBoolean</span><span class="params">()</span></span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">final</span> <span class="keyword">byte</span> <span class="title">readByte</span><span class="params">()</span></span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">final</span> <span class="keyword">char</span> <span class="title">readChar</span><span class="params">()</span></span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">final</span> <span class="keyword">double</span> <span class="title">readDouble</span><span class="params">()</span></span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">final</span> <span class="keyword">float</span> <span class="title">readFloat</span><span class="params">()</span></span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">final</span> <span class="keyword">int</span> <span class="title">readInt</span><span class="params">()</span></span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">final</span> <span class="keyword">long</span> <span class="title">readLong</span><span class="params">()</span></span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">final</span> <span class="keyword">short</span> <span class="title">readShort</span><span class="params">()</span></span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">final</span> String <span class="title">readUTF</span><span class="params">()</span></span></span><br></pre></td></tr></table></figure>

<p>DatalnputStream是包裹流,必须依附于InputStream</p>
<h2 id="DataOutputStream"><a href="#DataOutputStream" class="headerlink" title="DataOutputStream"></a>DataOutputStream</h2><p>​    DataOutputStream能够以一种与机器无关的方式,直接将Java基本类型和String类型数据写出到其他的字节输出流。常见方法:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">DataOutputStream</span><span class="params">(OutputStream in)</span></span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">final</span> <span class="keyword">boolean</span> <span class="title">writeBoolean</span><span class="params">()</span></span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">final</span> <span class="keyword">byte</span> <span class="title">writeByte</span><span class="params">()</span></span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">final</span> <span class="keyword">char</span> <span class="title">writeChar</span><span class="params">()</span></span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">final</span> <span class="keyword">double</span> <span class="title">writeDouble</span><span class="params">()</span></span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">final</span> <span class="keyword">float</span> <span class="title">writeFloat</span><span class="params">()</span></span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">final</span> <span class="keyword">int</span> <span class="title">writelnt</span><span class="params">()</span></span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">final</span> <span class="keyword">long</span> <span class="title">writeLong</span><span class="params">()</span></span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">final</span> <span class="keyword">short</span> <span class="title">writeShort</span><span class="params">()</span></span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">final</span> String <span class="title">writeUTF</span><span class="params">()</span></span></span><br></pre></td></tr></table></figure>

<p>DataOutputStream是包裹流，必须依附于OutputStream</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.*;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestData</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">    	ByteArrayOutputStream baos = <span class="keyword">new</span> ByteArrayOutputStream();</span><br><span class="line">        DataOutputStream dos = <span class="keyword">new</span> DataOutputStream(baos);</span><br><span class="line">	    <span class="keyword">long</span> m = <span class="number">1234567</span>;</span><br><span class="line">	    dos.writeLong(m)；</span><br><span class="line">            </span><br><span class="line">    	<span class="keyword">byte</span>[] buf2 = baos.toByteArray();</span><br><span class="line">        </span><br><span class="line">    	ByteArrayInputStream bais = <span class="keyword">new</span> ByteArrayInputStream(buf2);</span><br><span class="line">        DatalnputStream dis = <span class="keyword">new</span> DatalnputStream (buf2);</span><br><span class="line">    	<span class="keyword">long</span> n;</span><br><span class="line">    	n = dis.readLong();</span><br><span class="line">    	<span class="comment">//dis.readLong(a); //error</span></span><br><span class="line">        </span><br><span class="line">    	System.out.println(<span class="string">&quot;n = &quot;</span> + n);</span><br><span class="line">	&#125;	</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="转换流"><a href="#转换流" class="headerlink" title="转换流"></a>转换流</h1><ul>
<li>OutputStreamWriter 流是把OutputStream流转化成Writer流的流</li>
<li>InputStreamReader是把InputStream转化成ReaderOutputStreamWriter 和 </li>
<li>InputStreamReader都是包裹流</li>
<li>编程:<br>如何将键盘输入的字符组成字符串直接赋给String对象</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.*;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestString</span></span></span><br><span class="line">public static void main(String[]] args)</span><br><span class="line">&#123;</span><br><span class="line">    String str = <span class="keyword">null</span> ;</span><br><span class="line">	BufferedReader br = <span class="keyword">new</span> BufferedReader(<span class="keyword">new</span> InputStreamReader(System.in));</span><br><span class="line">    str = br.readLine();</span><br><span class="line">	System.out.println(<span class="string">&quot;str = &quot;</span> + str) ;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="readLine-与回车符的问题"><a href="#readLine-与回车符的问题" class="headerlink" title="readLine()与回车符的问题"></a>readLine()与回车符的问题</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">String str = <span class="string">&quot;123&quot;</span>;</span><br><span class="line">BufferedReader br =<span class="keyword">new</span> BufferedReader(<span class="keyword">new</span> lnputStreamReader(System.in));</span><br><span class="line">str = br.readLine();</span><br></pre></td></tr></table></figure>

<p>如果直接输入回车的话,则</p>
<ol>
<li>br.readLine()会丢弃回车符，而不是返回回车符，即br.readLine()遇到回车符时终止读取，并且会把读取到的回车符自动丢弃掉</li>
<li>br.readLine()返回的是“”而不是null，“”表示空字符串null表示空指针,空指针就是空地址，空地址就是不指向任何存储单元的意思</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.*;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestBuffered</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(Stringargs)</span> <span class="keyword">throws</span> Exception</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        String str = <span class="string">&quot;zhangsan&quot;</span>;</span><br><span class="line">        System.out.printIn(<span class="string">&quot;str =&quot;</span> + str);</span><br><span class="line">        </span><br><span class="line">        BufferedReader br = <span class="keyword">new</span> BufferedReader(<span class="keyword">new</span> InputstreamReader(System.in);                                              </span><br><span class="line">        str = br.readLine(); <span class="comment">//如果字节输入回车的话，str的值就会变成空字符串</span></span><br><span class="line">                                               </span><br><span class="line">        System.out.printIn(<span class="string">&quot;-----------&quot;</span>);</span><br><span class="line">        System.out.println(str + <span class="string">&quot;123&quot;</span>);</span><br><span class="line">        System.out.printIn(str.equals(<span class="string">&quot;&quot;</span>); <span class="comment">//true</span></span><br><span class="line">        System.out.printIn(str == <span class="keyword">null</span>); <span class="comment">//false</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="Print流"><a href="#Print流" class="headerlink" title="Print流"></a>Print流</h1><ul>
<li>Print流只输出，不输入</li>
<li>分类<ul>
<li>PrintWriter输出字符</li>
<li>PrintStream 输出字节</li>
</ul>
</li>
</ul>
<h2 id="print流的由来"><a href="#print流的由来" class="headerlink" title="print流的由来"></a>print流的由来</h2><ul>
<li><p>Writer的write方法可以写入</p>
<ul>
<li>一个字符</li>
<li>一个字符数组</li>
<li>一个字符数组的一部分一个字符串</li>
<li>一个字符的一部分</li>
</ul>
</li>
<li><p>OutputStream的write方法可以写入</p>
<ul>
<li>一个字节</li>
<li>一个字节数组</li>
<li>一个字节数组的一部分</li>
</ul>
</li>
<li><p>DataOutputStream流可以写入</p>
<ul>
<li>一个字节</li>
<li>一个字节数组{继承自outputStream)</li>
<li>一个字节数组的一部分</li>
<li>所有的基本类型数据的二进制代码<pre><code>     如: writeDouble&#123;8.8); 写入的是8.8的二进制代码,共占8个字节
</code></pre>
</li>
</ul>
</li>
<li><p>PrintStream流的print可以写入</p>
<ul>
<li>所有基本类型数据的字符串形式表示<pre><code> 如: print(8.8); 写入的是&#39;8∵8这三个字符,共占3个字节
</code></pre>
</li>
</ul>
</li>
</ul>
<h2 id="PrintStream"><a href="#PrintStream" class="headerlink" title="PrintStream"></a>PrintStream</h2><ul>
<li>PrintStream在OutputStream基础之上提供了增强的功能，即可以方便地输出各种类型数据（而不仅限于byte型）的格式化表示形式。</li>
<li>PrintStream重载了print和println方法，用于各种不同类型数据的格式化输出</li>
<li>格式化输出是指将一个数据用其字符串格式输出</li>
<li>DataOutputStream中的writeXXX(data)方法是把data在内存中的二进制数据写入文件</li>
<li>PrintStream中的println(data)是该数据的格式化后的字符串写入文件</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">DataOutput Stream 中的 writeXXX(data)方法</span></span><br><span class="line"><span class="comment">	与</span></span><br><span class="line"><span class="comment">PrintStream 中的 println(dat a) 的区别</span></span><br><span class="line"><span class="comment">总结:</span></span><br><span class="line"><span class="comment">	DataOut putStream 中的 writeXXX(data)方法是把data在内存中的</span></span><br><span class="line"><span class="comment">	PrintStream 中的 println(data)写出的是该数据的格式化后的字</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">import</span> java.io.*;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestPrintStream_1</span></span></span><br><span class="line">public static void main(String[] args) throws Exception</span><br><span class="line">&#123;</span><br><span class="line">    DataOutputStream dos = <span class="keyword">new</span> <span class="function">DataOut <span class="title">putStream</span><span class="params">(new FileOutputStream(<span class="string">&quot;d:/share/kk.txt&quot;</span>)</span></span>;</span><br><span class="line">    dos.writeLong(<span class="number">12345</span>); <span class="comment">//实际写入文件的是00 00 00 00 00 00 30 39</span></span><br><span class="line"></span><br><span class="line">    dos.close();</span><br><span class="line">    System.out.printf(<span class="string">&quot;%#X\n&quot;</span>，<span class="number">12345</span>);</span><br><span class="line">    </span><br><span class="line">    PrintStream ps =.<span class="function">new <span class="title">PrintStream</span><span class="params">(new FileOut putStream(<span class="string">&quot;d:/</span></span></span></span><br><span class="line"><span class="function"><span class="params"><span class="string">    ps.println(12345); //实际写入文件的是 ’1’ &#x27;2&#x27; &#x27;3’ &#x27;4&#x27; &#x27;5’</span></span></span></span><br><span class="line"><span class="function"><span class="params"><span class="string">	ps.close();</span></span></span></span><br><span class="line"><span class="function"><span class="params"><span class="string">&#125;</span></span></span></span><br></pre></td></tr></table></figure>

<h2 id="PrintWriter"><a href="#PrintWriter" class="headerlink" title="PrintWriter"></a>PrintWriter</h2><ul>
<li>PrintWriter提供了PrintStream的所有打印方法，其方法也从不抛出IOException。</li>
<li>与PrintStream的区别:<ul>
<li>作为处理流使用时，PrintStream只能封装OutputStream类型的字节流，而PrintWriter既可以封装OutputStream,还能够封装Writer</li>
<li>PrintWriter中的printIn()方法具有更好的跨平台性</li>
</ul>
</li>
</ul>
<h2 id="标准输入输出的重定向"><a href="#标准输入输出的重定向" class="headerlink" title="标准输入输出的重定向"></a>标准输入输出的重定向</h2><p>例如：</p>
<ul>
<li>编程实现将键盘输入的数据输入A文件中，如果输入有误，则把出错信息输出到B文件中</li>
<li>预备知识</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span></span><br><span class="line">&#123;</span><br><span class="line">	....</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">catch</span> (Exception e)</span><br><span class="line">&#123;</span><br><span class="line">	e.printStackTrace();</span><br><span class="line">	......</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong><code>e.printStackTrace();</code>默认是把错误信息输出到system.err所关联的设备中</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.*;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestSysl</span> </span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        PrintStream ps = <span class="keyword">new</span> PrintStream(<span class="string">&quot;d:/heihei.asd&quot;</span>);</span><br><span class="line">        System.setOut(ps);</span><br><span class="line">        System.out.println(<span class="string">&quot;哈哈&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="对象的序列化"><a href="#对象的序列化" class="headerlink" title="对象的序列化"></a>对象的序列化</h1><ul>
<li>所谓序列化是指：把一个Object对象直接转化为字节流，然后把这个字节流直接写入本地硬盘或网络中</li>
<li>如果要想把某个对象序列化，则必须的实现<code>Serializable接口</code><strong>（起标示作用）</strong></li>
<li>Serializable接口中并没有任何方法，这种类型的接口被称为标记接口，如果一个类实现了Serializable接口，潜在含义就是告诉编译器这个类是允许被序列化的，如果程序中存在序列该对象的代码，编译器就会自动进行相应的处理已完成该对象的序列化，如果该对象没有实现Serializable接口，程序中却存在该对象被序列化的代码，编译器编译时就会报错</li>
<li>在Java中transient修饰的成员变量在对象序列化时不被序列化 </li>
</ul>
<p>示例</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.*;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestObjectlO</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Student</span> <span class="keyword">implements</span> <span class="title">Serializable</span> //如果将<span class="keyword">implements</span> <span class="title">Serializable</span>注释掉，则程序编译时就会报错</span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> String sname = <span class="keyword">null</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">int</span> sid = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">transient</span> <span class="keyword">public</span> <span class="keyword">float</span> sscore = <span class="number">0</span>;</span><br><span class="line">    <span class="comment">//transient表示sscore成员不能被序列化</span></span><br><span class="line">    <span class="comment">//所谓不能被序列化就是指:“该成员调用ObjectOutputStream 的 writeOnbject()时不会被保存，调用ObjectInputStream的read0bject()方法时不会被读取”</span></span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Student</span><span class="params">(String name, <span class="keyword">int</span> id, <span class="keyword">float</span> score)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.sname = name;</span><br><span class="line">        <span class="keyword">this</span>.sid = id;</span><br><span class="line">        <span class="keyword">this</span>.sscore = score;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
    </footer>
  </div>

    
 
    
</article>

    
    <article
  id="post-Java-8图形化界面"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2021/04/18/Java-8%E5%9B%BE%E5%BD%A2%E5%8C%96%E7%95%8C%E9%9D%A2/"
    >Java 8图形化界面</a> 
</h2>
 

    </header>
     
    <div class="article-meta">
      <a href="/2021/04/18/Java-8%E5%9B%BE%E5%BD%A2%E5%8C%96%E7%95%8C%E9%9D%A2/" class="article-date">
  <time datetime="2021-04-18T13:58:45.000Z" itemprop="datePublished">2021-04-18</time>
</a> 
  <div class="article-category">
    <a class="article-category-link" href="/categories/Java/">Java</a>
  </div>
   
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <h1 id="awt-图形化界面"><a href="#awt-图形化界面" class="headerlink" title="awt 图形化界面"></a>awt 图形化界面</h1><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.awt.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestCom</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">		Frame f = <span class="keyword">new</span> Frame();</span><br><span class="line">        f.setSize(<span class="number">400</span>,<span class="number">400</span>);</span><br><span class="line">		f.setBackground(Color.GREEN);</span><br><span class="line">        f.setVisible(<span class="keyword">true</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="GUI"><a href="#GUI" class="headerlink" title="GUI"></a>GUI</h1><h2 id="组件：给操作有反应"><a href="#组件：给操作有反应" class="headerlink" title="组件：给操作有反应"></a>组件：给操作有反应</h2><p>​    组件(Component)是图形用户界面的基本组成元素，<strong>凡是能够以图形化方式显示在屏幕上并能够与用户进行交互的对象均为组件</strong>，如菜单、按钮、标签、文本框、滚动条等。</p>
<p>组件分类<br>    <code>java.awt.Component</code><br>    <code>Java.awt.MenuComponent</code><br>    说明：抽象类java.awt.Component是除菜单相关组件之外所有JavaAWT组件类的根父类，该类规定了GUI组件的基本特性，如尺寸、位置和颜色效果等，并实现了作为一个GUI部件所应具备的基本功能</p>
<p><strong>我们主要学<code>component</code></strong></p>
<h2 id="容器"><a href="#容器" class="headerlink" title="容器"></a>容器</h2><ul>
<li>组件通常不能独立地显示出来，必须将组件放在一定的容器中才可以显示出来。</li>
<li>有一类特殊的组件是专门用来包含其他组件的，这类组件叫做容器，<code>java.awt.Container</code>是所有容器的父类，<code>java.awt.Container</code>继承自<code>java.awt.Component</code></li>
<li>容器类对象本身也是一个组件，具有组件的所有性质，但反过来组件却不一定是容器</li>
<li><strong>就比如ok按键（按钮是组件，组件要在显示器显示要放到容器），不能独立显示需要放到容器才能显示</strong></li>
</ul>
<p><img src="/2021/04/18/Java-8%E5%9B%BE%E5%BD%A2%E5%8C%96%E7%95%8C%E9%9D%A2/%E5%AE%B9%E5%99%A8%E5%92%8C%E7%BB%84%E4%BB%B6%E5%85%B3%E7%B3%BB.png"></p>
<h2 id="容器分布"><a href="#容器分布" class="headerlink" title="容器分布"></a>容器分布</h2><p>容器分布图</p>
<p><img src="/2021/04/18/Java-8%E5%9B%BE%E5%BD%A2%E5%8C%96%E7%95%8C%E9%9D%A2/%E5%AE%B9%E5%99%A8%E5%88%86%E5%B8%83%E5%9B%BE.png"></p>
<p><img src="/2021/04/18/Java-8%E5%9B%BE%E5%BD%A2%E5%8C%96%E7%95%8C%E9%9D%A2/%E4%BE%8B%E5%AD%90.png"></p>
<h2 id="Frame常用的方法"><a href="#Frame常用的方法" class="headerlink" title="Frame常用的方法"></a>Frame常用的方法</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setBounds</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y, <span class="keyword">int</span> width, <span class="keyword">int</span> height)</span></span></span><br><span class="line"><span class="function">    设置窗体的位置和大小，x和y表示窗体左上角距离屏幕的水平和垂直距离,with和height是窗体本身的宽度和高度</span></span><br><span class="line"><span class="function">    </span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setSize</span><span class="params">(<span class="keyword">int</span> width, <span class="keyword">int</span> height)</span></span></span><br><span class="line"><span class="function">	设置窗体的大小，with和height是窗体本身的宽度和高度</span></span><br><span class="line"><span class="function">    </span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setVisible</span><span class="params">(<span class="keyword">boolean</span> flag)</span></span>;</span><br><span class="line">	设置窗体是否可见，<span class="keyword">true</span>表示可见，<span class="keyword">false</span>表示不可见</span><br><span class="line">        </span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setBackground</span><span class="params">(Color c)</span></span></span><br><span class="line"><span class="function">	设置窗体的背景色</span></span><br></pre></td></tr></table></figure>

<h2 id="Panel"><a href="#Panel" class="headerlink" title="Panel"></a>Panel</h2><ul>
<li> panel是容纳其他组件的组件</li>
<li>panel是容器</li>
<li>panel不能单独存在，必须得被添加到其他容器中</li>
</ul>
<p>Panel类拥有从其父类继承来的</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">setBounds(<span class="keyword">int</span> x,<span class="keyword">int</span> y,<span class="keyword">int</span> width,<span class="keyword">int</span> height)</span><br><span class="line">setSize(<span class="keyword">int</span> width, <span class="keyword">int</span> height)</span><br><span class="line">setLocation( <span class="keyword">int</span> x,<span class="keyword">int</span> y)</span><br><span class="line">setBackground(Color c)</span><br><span class="line">setLayout(LayoutManager mgr)</span><br><span class="line">.....</span><br></pre></td></tr></table></figure>

<p>Panel的构造方法为</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Panel() 使用默认的FlowLayout类布局管理器初始化。</span><br><span class="line">Panel(LayoutManager layout) 使用指定的布局管理器初始化。</span><br></pre></td></tr></table></figure>

<p>例子</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.awt.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestPanel_1</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String args[])</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        Frame f = <span class="keyword">new</span> Frame(<span class="string">&quot;Java Frame with Panel&quot;</span>);</span><br><span class="line">        Panel p = <span class="keyword">new</span> Panel();</span><br><span class="line">		f.setLayout(<span class="keyword">null</span>);</span><br><span class="line">		f.setBounds(<span class="number">300</span>,<span class="number">300</span>,<span class="number">500</span>,<span class="number">500</span>); <span class="comment">//Frame的设置是相对于整个屏幕</span></span><br><span class="line">        f.setBackground(<span class="keyword">new</span> Color(<span class="number">100</span>,<span class="number">100</span>,<span class="number">102</span>)); <span class="comment">//三个颜色</span></span><br><span class="line">        p.setBounds(<span class="number">300</span>/<span class="number">2</span>，<span class="number">300</span>/<span class="number">2</span>，<span class="number">500</span>/<span class="number">2</span>，<span class="number">500</span>/<span class="number">2</span>); </span><br><span class="line">        p.setBackground(<span class="keyword">new</span> Color(<span class="number">204</span>,<span class="number">204</span>, <span class="number">255</span>));</span><br><span class="line">		f.add(p); <span class="comment">//这是java.awt.Container类中的一个方法</span></span><br><span class="line">        f.setvisible(<span class="keyword">true</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="布局管理器"><a href="#布局管理器" class="headerlink" title="布局管理器"></a>布局管理器</h2><ul>
<li><p>容器里的<strong>组件以什么方式排列组合</strong>，由布局管理器类来控制的</p>
</li>
<li><p>容器对其中所包含组件的排列方式，包括组件的位置和大小设定，被称为容器的布局(Layout)。</p>
</li>
<li><p>为了使图形用户界面具有良好的平台无关性，Java语言提供了布局管理器来管理容器的布局，而<strong>不建议直接设置组件在容器中的位置和尺寸</strong>。</p>
</li>
<li><p>每个容器都有一个默认的布局管理器，当容器需要对某个组件进行定位或判断其大小尺寸时，就会自动调用其对应的布局管理器。</p>
</li>
<li><p>在<strong>AWT</strong>中，常见的布局管理器：</p>
<ul>
<li>BorderLayout</li>
<li>FlowLayout</li>
<li>GridLayout</li>
</ul>
</li>
<li><p>使用 <code>f.setLayout(null);</code> 可以使默认的布局管理器失效</p>
</li>
</ul>
<h3 id="FlowLayout布局管理器"><a href="#FlowLayout布局管理器" class="headerlink" title="FlowLayout布局管理器"></a>FlowLayout布局管理器</h3><ul>
<li><p>FlowLayout是Panel类的默认布局管理器。</p>
<ul>
<li>FlowLayout布局管理器对组件逐行定位，行内从左到右，一行排满后换行。</li>
<li>不改变组件的大小，按组件原有尺寸显示组件，可设置不同的组件间距,行距以及对齐方式。</li>
</ul>
</li>
<li><p>FlowLayout布局管理器默认的<strong>对齐方式是居中</strong>。（流水排）</p>
</li>
</ul>
<p><img src="/2021/04/18/Java-8%E5%9B%BE%E5%BD%A2%E5%8C%96%E7%95%8C%E9%9D%A2/FlowLayout%E5%B8%83%E5%B1%80%E7%AE%A1%E7%90%86%E5%99%A8.png"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> FlowLayout(FlowLayout.RIGHT,<span class="number">20</span>,<span class="number">40</span>);</span><br><span class="line">	右对齐，组件之间水平间距<span class="number">20</span>个像素，垂直间距<span class="number">40</span>个像素。</span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> FlowLayout(FlowLayout.LEFT);</span><br><span class="line">	左对齐，水平和垂直间距为缺省值（<span class="number">5</span>）。</span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> FlowLayout();</span><br><span class="line">	使用缺省的居中对齐方式，水平和垂直间距为缺省值（<span class="number">5</span>）。</span><br></pre></td></tr></table></figure>

<p>例子：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java. awt.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestFlowLayout</span> </span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String args[])</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        Frame f = <span class="keyword">new</span> Frame(<span class="string">&quot;Flow Layout&quot;</span>);</span><br><span class="line">        Button buttonl = <span class="keyword">new</span> Button(<span class="string">&quot;ok&quot;</span>);</span><br><span class="line">        Button button2 = <span class="keyword">new</span> Button(<span class="string">&quot;0pen&quot;</span>);</span><br><span class="line">        Button button3 = <span class="keyword">new</span> Button(<span class="string">&quot;Ciose&quot;</span>);</span><br><span class="line">        f.setLayout(<span class="keyword">new</span> FlowLayout(FlowLayout.CENTER)); <span class="comment">//设置f为Flowlayout</span></span><br><span class="line">        f.ada(buttonl);</span><br><span class="line">        f.add(button2);</span><br><span class="line">        f.add(button3):</span><br><span class="line">        f.setSize(<span class="number">300</span>,<span class="number">400</span>);</span><br><span class="line">        f.setVisible(<span class="keyword">true</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>第9行 f 默认的布局管理器是BorderLayout，这一行意思是定义一个Flowlayout，用Flowlayout对</p>
<p>象充当容器的布局管理器，f 默认的是BorderLayout，必须重新指定布局管理器</p>
<h3 id="BorderLayout布局管理器"><a href="#BorderLayout布局管理器" class="headerlink" title="BorderLayout布局管理器"></a>BorderLayout布局管理器</h3><ul>
<li>BorderLayout是Frame类的默认布局管理器。</li>
<li>BorderLayout将整个容器的布局划分成<ul>
<li>东（EAST)</li>
<li>西（WEST)</li>
<li>南（SOUTH)</li>
<li>北（NORTH)</li>
<li>中（CENTER)五个区域，组件只能被添加到指定的区域。</li>
</ul>
</li>
<li>如不指定组件的加入部位，则默认加入到CENTER区。</li>
<li>每个区域只能加入一个组件，如加入多个，则先前加入的会被覆盖。</li>
<li>BorderLayout型布局容器尺寸缩放原则：<ul>
<li>北、南两个区域在水平方向缩放。</li>
<li>东、西两个区域在垂直方向缩放。</li>
<li>中部可在两个方向上缩放。</li>
</ul>
</li>
</ul>
<p><img src="/2021/04/18/Java-8%E5%9B%BE%E5%BD%A2%E5%8C%96%E7%95%8C%E9%9D%A2/BorderLayout.png"></p>
<ul>
<li>东西南北的排列，默认放中间整个框这么大，会覆盖只显示最后一个</li>
</ul>
<p>例子</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.awt.*;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestBorderLayout</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String args[])</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        Frame f;</span><br><span class="line">        f = <span class="keyword">new</span> Frame(<span class="string">&quot;Border Layout&quot;</span>);</span><br><span class="line">        Button bn = <span class="keyword">new</span> Button(<span class="string">&quot;BN&quot;</span>);</span><br><span class="line">        Button bs = <span class="keyword">new</span> Button(<span class="string">&quot;BS&quot;</span>);</span><br><span class="line">        Button bw = <span class="keyword">new</span> Button(<span class="string">&quot;BW&quot;</span>);</span><br><span class="line">        Button be = <span class="keyword">new</span> Button(<span class="string">&quot;BE&quot;</span>);</span><br><span class="line">        Button bc = <span class="keyword">new</span> Button(<span class="string">&quot;BC&quot;</span>);</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//也可使用下述语句</span></span><br><span class="line">        <span class="comment">//f.add(bn, BorderLayout.NORTH);</span></span><br><span class="line">        <span class="comment">//f.add(bs, BorderLayout.SOUTH);</span></span><br><span class="line">        <span class="comment">//f.add(bw, BorderLayout.WEST);</span></span><br><span class="line">        <span class="comment">//f.add(be，BorderLayout.EAST);</span></span><br><span class="line">        <span class="comment">//f.add(bc，BorderLayout.CENTER);</span></span><br><span class="line">        </span><br><span class="line">        f.setSize(<span class="number">200</span>,<span class="number">200</span>);</span><br><span class="line">        f.setvisible(<span class="keyword">true</span>);       </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="GridLayout布局管理器"><a href="#GridLayout布局管理器" class="headerlink" title="GridLayout布局管理器"></a>GridLayout布局管理器</h3><ul>
<li>GridLayout型布局管理器将空间划分成规则的<strong>矩形网格</strong>，每个单元格区域大小相等。组件被添加到每个单元格中，先从左到右添满一行后换行，再从上到下。</li>
<li>在GridLayout构造方法中指定分割的行数和列数：<ul>
<li>如: GridLayout(3,4)</li>
<li><strong>GridLayout是以行数为准的（格子排列）</strong></li>
</ul>
</li>
</ul>
<p><img src="/2021/04/18/Java-8%E5%9B%BE%E5%BD%A2%E5%8C%96%E7%95%8C%E9%9D%A2/GridLayout.png"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">GridLayout的构造函数</span></span><br><span class="line"><span class="comment">	public GriLayout(int, int);的用法</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">import</span> java. awt.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestGridLayout</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String args[])</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        Frame f = <span class="function">now <span class="title">Frame</span><span class="params">(<span class="string">&quot;GridLayout Example&quot;</span>)</span></span>;</span><br><span class="line">        Button b1 = <span class="keyword">new</span> Button(<span class="string">&quot;b1&quot;</span>);</span><br><span class="line">        Button b2 = <span class="keyword">new</span> Button(<span class="string">&quot;b2&quot;</span>);</span><br><span class="line">        Button b3 = <span class="keyword">new</span> Button(<span class="string">&quot;b3&quot;</span>);</span><br><span class="line">        Button b4 = <span class="keyword">new</span> Button(<span class="string">&quot;b4&quot;</span>);</span><br><span class="line">        Button b5 = <span class="keyword">new</span> Button(<span class="string">&quot;b5&quot;</span>);</span><br><span class="line">        <span class="comment">//Button b6 = new Button(&quot;b6&quot;);</span></span><br><span class="line">        </span><br><span class="line">        f.setLayout(<span class="keyword">new</span> GridLayout(<span class="number">2</span>,<span class="number">3</span>)); <span class="comment">//第一个参数是多少，则输出的就是多少行，列数是编译器根据行数自动计算出来的 (行数是一定的，但是列数不一定)</span></span><br><span class="line">     </span><br><span class="line">        f.add(b1);</span><br><span class="line">    	f.add(b2);</span><br><span class="line">        f.add(b3);</span><br><span class="line">        f.add(b4);</span><br><span class="line">        f.add(b5);</span><br><span class="line">        <span class="comment">//f.add(b6);</span></span><br><span class="line">        </span><br><span class="line">    	f.pack(); <span class="comment">//如果把该语句注释掉，则输出结果就变成一个只有标题的小窗口，摘自API: “pack() – 类 java.awt.Window 中的方法，调整此窗口的大小，以适合其子组件的首选大小和布局”，郝斌:也就是把子组件包括起来，会根据它所容纳的子组件的大小自动调整自身的大小，把子组件包括起来</span></span><br><span class="line">        f.setVisible(<span class="keyword">true</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="布局管理器总结"><a href="#布局管理器总结" class="headerlink" title="布局管理器总结"></a>布局管理器总结</h3><ul>
<li>Frame是一个顶级窗口，Frame的缺省布局管理器为BorderLayout</li>
<li>Panel无法单独显示，必须添溯到某个容器中。<ul>
<li><strong>Panel的缺省布局管理器为FlowLayout。</strong></li>
</ul>
</li>
<li>当把Panel作为一个组件添加到某个容器中后，该Panel仍然可以有自己的布局管理器。</li>
<li>使用布局管理器时，布局管理器负责各个组件的大小和位置，因此用户无法在这种情况下设置组件天小和位置属性，如果试图使用Java语言提供的<code>setLocation()</code>，<code>setSize()</code>，<code>setBounds()</code>等方法，则都会被布局管理器覆盖。</li>
<li>如果用户确实需要亲自设置组件大小或位置，则应取消该容器的布局管理器，方法为：<ul>
<li><code>setLayout(null)</code></li>
</ul>
</li>
</ul>
<h1 id="事件处理-（点击按钮有反应）"><a href="#事件处理-（点击按钮有反应）" class="headerlink" title="事件处理 （点击按钮有反应）"></a>事件处理 （点击按钮有反应）</h1><h2 id="事件处理相关概念"><a href="#事件处理相关概念" class="headerlink" title="事件处理相关概念"></a>事件处理相关概念</h2><ul>
<li>事件(Event)<ul>
<li>用户对组件的一个操作,称之为一个事件</li>
</ul>
</li>
<li>事件源(Event Source)<ul>
<li>能够产生事件的GUI组件对象，如按钮、文本框等。</li>
</ul>
</li>
<li>事件处理方法(Event Handler)<ul>
<li>能够接收、解析和处理事件类对象,实现与用户交互功能的方法。</li>
</ul>
</li>
<li>事件监听器(Event Listener) 【<strong>用户是否点击，调用事件处理方法</strong>】<ul>
<li>可以处理事件的一个类。</li>
</ul>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java. awt.*;</span><br><span class="line"><span class="keyword">import</span> java. awt.eventl*;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestButton</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        Frame f = <span class="keyword">new</span> Frame();</span><br><span class="line">        Button bn =<span class="function">now <span class="title">Button</span><span class="params">(<span class="string">&quot;OK&quot;</span>)</span></span>;</span><br><span class="line">        f.add(bn);</span><br><span class="line">        A aa = <span class="keyword">new</span> A();</span><br><span class="line">        </span><br><span class="line">        bn.addActionListener(aa);</span><br><span class="line">        </span><br><span class="line">        f.pack();</span><br><span class="line">        f.addindowListener(<span class="keyword">new</span> B()); <span class="comment">//f这个窗口，注册一个监听</span></span><br><span class="line">        </span><br><span class="line">        f.setVisible(<span class="keyword">true</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span> <span class="keyword">implements</span> <span class="title">Actionlistener</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">actionPerformed</span><span class="params">(ActionEvent e)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">    	System.out.println(<span class="string">&quot;今天我很爽!&quot;</span>);</span><br><span class="line">        <span class="comment">//System.exit(-1);</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">B</span> <span class="keyword">extends</span> <span class="title">WindowAdapter</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">windowClosing</span><span class="params">(WindowEvent e)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">		System.exit(-<span class="number">1</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>​    要对某个事件进行处理就add这个事件的名字后面加监听器，括号是对那个对象进行监听，a对象之所以可以监听是因为<strong>实现了接口的方法</strong></p>
<p>​    B本应该写<code>implements</code>，但如果写<code>implements</code>只重写一个接口，那个类还是抽象类，抽象类的抽象方法都要实现，所以写<code>extends</code></p>
<p>​    一个组件要想让他产生反应，添加一个相应组件的监听器，括号写的是实现监听器接口的对象</p>
<h2 id="事件处理步骤"><a href="#事件处理步骤" class="headerlink" title="事件处理步骤"></a>事件处理步骤</h2><p>假设事件为XXXX</p>
<p>​    1.向事件源注册某种事件的事件监听器对象</p>
<p>​          <code>addXXXXListener(..…);</code></p>
<p>​    2.设计好可以处理这种事件的事件监听器</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> 类名 <span class="keyword">implements</span> <span class="title">XXXXListener</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">	重写XXXXListener接口中的方法</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>说明<br>要想设计出能够处理 XXXX 事件的监听器，只需要编写出实现了 XXXXListener 接口的类就OK了，因为 XXXXListener 接口中已经定义了可以处理 XXXX 事件的方法</p>
<h2 id="事件处理相关概念-1"><a href="#事件处理相关概念-1" class="headerlink" title="事件处理相关概念"></a>事件处理相关概念</h2><ul>
<li>默认情况下事件源不会自动产生任何事件，程序员需要做两件事：<ul>
<li><strong>告诉事件源可以自动产生哪类事件</strong>，即：向事件源注册某种事件的事件监听器对象</li>
<li><strong>设计好可以处理这种事件的事件监听器</strong></li>
</ul>
</li>
<li>一旦完成了这两步操作，当用户对事件源进行操作时，事件源就会自动产生事件，事件源就会自动把产生的事件封装成一个事件对象，事件源就会自动把封装好的事件对象传递给事件监听器</li>
<li>事件监听器收到事件源发送过来的事件时，事件监听器就会自动调用相应的事件处理方法来对该事件进行相应的处理</li>
</ul>
<h2 id="事件处理示意图"><a href="#事件处理示意图" class="headerlink" title="事件处理示意图"></a>事件处理示意图</h2><p><img src="/2021/04/18/Java-8%E5%9B%BE%E5%BD%A2%E5%8C%96%E7%95%8C%E9%9D%A2/%E4%BA%8B%E4%BB%B6%E5%A4%84%E7%90%86%E7%A4%BA%E6%84%8F%E5%9B%BE.png"></p>
<p><strong>注册和实现某种监听器接口的类对象</strong>这两步是由程序员完成的,其他步骤由编译器自动完成</p>
<h2 id="TestField监听器"><a href="#TestField监听器" class="headerlink" title="TestField监听器"></a>TestField监听器</h2><p><img src="/2021/04/18/Java-8%E5%9B%BE%E5%BD%A2%E5%8C%96%E7%95%8C%E9%9D%A2/TestField%E7%9B%91%E5%90%AC%E5%99%A8.png"></p>
<p><code>@OVerride</code>：告诉编译器下面的方法是程序员重写父类的方法，不是自己定义的，如果写成了定义就会报错</p>
<h2 id="文本转字符串转"><a href="#文本转字符串转" class="headerlink" title="文本转字符串转"></a>文本转字符串转</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestInt</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[]] args)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> i = <span class="number">345</span>;</span><br><span class="line">        String str; </span><br><span class="line">        <span class="comment">//第一种方法</span></span><br><span class="line">        str = i + <span class="string">&quot;&quot;</span>;</span><br><span class="line">        System.out.println(<span class="string">&quot;str = &quot;</span> + str);</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//第二种</span></span><br><span class="line">        Integer it = <span class="function">now <span class="title">Integer</span><span class="params">(i)</span></span>;</span><br><span class="line">        str = it.toString();</span><br><span class="line">        System.out.println(<span class="string">&quot;str = &quot;</span> + str);</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//第三种</span></span><br><span class="line">        str = Integer.toString(i);</span><br><span class="line">        System.out.println(<span class="string">&quot;str = &quot;</span> + str);</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//第四种</span></span><br><span class="line">        str = String.value0f(i);</span><br><span class="line">        System.out.println(<span class="string">&quot;str = &quot;</span> + str);</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//第五种:本方法不对</span></span><br><span class="line">		str = i; <span class="comment">//error 不兼容</span></span><br><span class="line">        System.out.println(<span class="string">&quot;str = &quot;</span> + str);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h1 id="可运行jar包生成步骤"><a href="#可运行jar包生成步骤" class="headerlink" title="可运行jar包生成步骤"></a>可运行jar包生成步骤</h1><ol>
<li><p>新建一个记事本文件，假设为1.xt，文件内容：</p>
<p>​    Main-Class：可运行类的名字<br>​    附注：记着敲回车</p>
</li>
<li><p>dos下命令:<br><code>jar cvfm haha.jar 1.txt*.class</code></p>
<p>记住:</p>
<p>只有GUI程序生成的class文件才可以作为main  class</p>
</li>
</ol>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
    </footer>
  </div>

    
 
    
</article>

    
    <article
  id="post-Java-7数组"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2021/04/18/Java-7%E6%95%B0%E7%BB%84/"
    >Java 7数组</a> 
</h2>
 

    </header>
     
    <div class="article-meta">
      <a href="/2021/04/18/Java-7%E6%95%B0%E7%BB%84/" class="article-date">
  <time datetime="2021-04-18T12:04:13.000Z" itemprop="datePublished">2021-04-18</time>
</a> 
  <div class="article-category">
    <a class="article-category-link" href="/categories/Java/">Java</a>
  </div>
   
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <h1 id="定义数组"><a href="#定义数组" class="headerlink" title="定义数组"></a>定义数组</h1><p><strong>数组赋值时前后框框不能有数值</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> stat ic <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">//方式一</span></span><br><span class="line">	<span class="keyword">int</span>[] arr1;</span><br><span class="line">	arr1 = <span class="keyword">new</span> <span class="keyword">int</span> [<span class="number">3</span>];</span><br><span class="line">    arr1[<span class="number">0</span>] = <span class="number">0</span>;</span><br><span class="line">	arr1[<span class="number">1</span>] = <span class="number">1</span>;</span><br><span class="line">    arr1[<span class="number">2</span>] = <span class="number">2</span>;</span><br><span class="line">    showArr(arr1);</span><br><span class="line">	System.<span class="function">out <span class="title">println</span><span class="params">(<span class="string">&quot;**********************&quot;</span>)</span></span>;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//方式二</span></span><br><span class="line">	<span class="keyword">int</span>[] arr2 = now <span class="keyword">int</span>[]&#123;<span class="number">0</span>,<span class="number">1</span>,<span class="number">2</span>&#125;;</span><br><span class="line">    showArr(arr2) ;</span><br><span class="line">	System.out.println(<span class="string">&quot;************************&quot;</span>);</span><br><span class="line">	<span class="comment">//System.out.printin(arr1); //error 一维数组的内容是不能通过System.out.printin(arr1)直接输出</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">//int[3] arr3 = new int[]&#123;0,1,2&#125;; //error</span></span><br><span class="line">	<span class="comment">//int[] arr4 = new int[3]&#123;0, 1,2&#125;; //error </span></span><br><span class="line">    <span class="comment">//int[3] arr5 = new int[3]&#123;0,1,2&#125;; //error</span></span><br><span class="line">    <span class="comment">//数组赋值时前后框框不能有数值</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">//方式三</span></span><br><span class="line">	<span class="keyword">int</span>[] arr6 = &#123;<span class="number">0</span>,<span class="number">1</span>,<span class="number">2</span>&#125;; <span class="comment">//25行</span></span><br><span class="line">    showArr(arr6);</span><br><span class="line">	System.out.println(<span class="string">&quot;**********************&quot;</span>);</span><br><span class="line">	arr6 = <span class="keyword">new</span> <span class="keyword">int</span>[]&#123;<span class="number">5</span>,<span class="number">4</span>, <span class="number">3</span>,<span class="number">2</span>,<span class="number">1</span>&#125;; <span class="comment">//arr6本来是指向25行的&#123;1,2,3&#125;</span></span><br><span class="line">    showArr(arr6);</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">showArr</span><span class="params">(<span class="keyword">int</span>[] arr)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i&lt;arr.length; ++i)</span><br><span class="line">			System.out.println(arr[i]);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h1 id="创建并使用基本类型数组示意图"><a href="#创建并使用基本类型数组示意图" class="headerlink" title="创建并使用基本类型数组示意图"></a>创建并使用基本类型数组示意图</h1><p>星星为程序运行处</p>
<p>图一</p>
<p><img src="/2021/04/18/Java-7%E6%95%B0%E7%BB%84/%E5%9F%BA%E6%9C%AC%E7%B1%BB%E5%9E%8B%E6%95%B0%E7%BB%841.png"></p>
<p>图二</p>
<p><img src="/2021/04/18/Java-7%E6%95%B0%E7%BB%84/%E5%9F%BA%E6%9C%AC%E7%B1%BB%E5%9E%8B%E6%95%B0%E7%BB%842.png"></p>
<p>图三</p>
<p><img src="/2021/04/18/Java-7%E6%95%B0%E7%BB%84/%E5%9F%BA%E6%9C%AC%E7%B1%BB%E5%9E%8B%E6%95%B0%E7%BB%843.png"></p>
<h1 id="创建并使用引用类型数组"><a href="#创建并使用引用类型数组" class="headerlink" title="创建并使用引用类型数组"></a>创建并使用引用类型数组</h1><p>图一</p>
<p><img src="/2021/04/18/Java-7%E6%95%B0%E7%BB%84/%E5%BC%95%E7%94%A8%E7%B1%BB%E5%9E%8B%E6%95%B0%E7%BB%841.png"></p>
<p>图二</p>
<p><img src="/2021/04/18/Java-7%E6%95%B0%E7%BB%84/%E5%BC%95%E7%94%A8%E7%B1%BB%E5%9E%8B%E6%95%B0%E7%BB%842.png"></p>
<p>图三</p>
<p><img src="/2021/04/18/Java-7%E6%95%B0%E7%BB%84/%E5%BC%95%E7%94%A8%E7%B1%BB%E5%9E%8B%E6%95%B0%E7%BB%843.png"></p>
<p>图四</p>
<p><img src="/2021/04/18/Java-7%E6%95%B0%E7%BB%84/%E5%BC%95%E7%94%A8%E7%B1%BB%E5%9E%8B%E6%95%B0%E7%BB%844.png"></p>
<p>​    <strong>引用类型元素组成的一维数组在使用过程中一般存在着两级的指向关系，这是理解多维不等长数组的基础</strong></p>
<h1 id="多维数组"><a href="#多维数组" class="headerlink" title="多维数组"></a>多维数组</h1><p>举例</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span>[][] xx = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">2</span>][<span class="number">3</span>]; <span class="comment">//等长数组</span></span><br><span class="line"><span class="keyword">int</span>[][] xx = &#123;&#123;<span class="number">3</span>,<span class="number">2</span>,<span class="number">7</span>&#125;,&#123;<span class="number">1</span>,<span class="number">5</span>&#125;,&#123;<span class="number">6</span>&#125;; <span class="comment">//不等长数组</span></span><br></pre></td></tr></table></figure>

<p><img src="/2021/04/18/Java-7%E6%95%B0%E7%BB%84/%E4%B8%8D%E7%AD%89%E9%95%BF%E6%95%B0%E7%BB%84%E4%BE%8B%E5%AD%90.png"></p>
<h1 id="数组的排序"><a href="#数组的排序" class="headerlink" title="数组的排序"></a>数组的排序</h1><p><code>java.unti.Arrays类</code>中的<code>sort方法</code>可以实现对数组的排序</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span>[] a = &#123;<span class="number">6</span>,<span class="number">23</span>,<span class="number">45</span>,<span class="number">12</span>,-<span class="number">83</span>,<span class="number">94</span>,<span class="number">41</span>&#125;;<span class="comment">//创建样本数组</span></span><br><span class="line"></span><br><span class="line">Arrays.sort(a); <span class="comment">//数组排序</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//排序后将数组元素输出</span></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;a.length; i++)</span><br><span class="line">&#123;</span><br><span class="line">	System.out.print(arr[<span class="number">1</span>]+<span class="string">&quot;\t&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line">______________________________________</span><br><span class="line">    输出结果：</span><br><span class="line">    -<span class="number">83</span> <span class="number">6</span> <span class="number">12</span> <span class="number">23</span> <span class="number">41</span> <span class="number">45</span> <span class="number">94</span></span><br></pre></td></tr></table></figure>

<h1 id="数组的拷贝"><a href="#数组的拷贝" class="headerlink" title="数组的拷贝"></a>数组的拷贝</h1><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">arraycopy</span><span class="params">( Object arr1, <span class="keyword">int</span> pos1, Object arr2, <span class="keyword">int</span> pos2, <span class="keyword">int</span> length)</span></span>;</span><br><span class="line">将arr1所指向的数组中下标从pos1开始的总共length个元素</span><br><span class="line">覆盖掉arr2所指向的数组中从pos2开始的length个元素</span><br></pre></td></tr></table></figure>

<p>注意:<br>    arr1是源数组  arr2是目的数组!   arraycopy()全是小写，不能是大写!</p>
<p>例子：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> source[] = &#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>&#125;; <span class="comment">//源数组</span></span><br><span class="line"><span class="keyword">int</span> dest[] = &#123;<span class="number">10</span>,<span class="number">9</span>,<span class="number">8</span>,<span class="number">7</span>,<span class="number">6</span>,<span class="number">5</span>,<span class="number">4</span>,<span class="number">3</span>,<span class="number">2</span>,<span class="number">1</span>&#125;; <span class="comment">//目的数组</span></span><br><span class="line"></span><br><span class="line">System.arraycopy(source,<span class="number">0</span>,dest,<span class="number">2</span>,<span class="number">3</span>);</span><br><span class="line"><span class="comment">//将source数组中下标从0开始的总共3个元素的值复制给dest数组中下标从2开始的3个元素</span></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// System.arraycpoy(); 的用法</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">TestArrayCopy</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">int</span>[] a = &#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>&#125;;</span><br><span class="line">		<span class="keyword">int</span>[] b = i1,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,5j:</span><br><span class="line">		System.arraycopy(a, <span class="number">0</span>, b, <span class="number">1</span>, <span class="number">2</span>); </span><br><span class="line">        System.out.println(<span class="string">&quot;a = &quot;</span>);</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;a.length; ++i)</span><br><span class="line">        &#123;</span><br><span class="line">			System.out.println(a[i]);</span><br><span class="line">		&#125;</span><br><span class="line">    &#125;   </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestArraysSort_1</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">int</span>[] data = &#123;<span class="number">1</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">7</span>,<span class="number">2</span>,<span class="number">4</span>,<span class="number">6</span>,<span class="number">8</span>,<span class="number">10</span>,<span class="number">9</span>&#125;;</span><br><span class="line">        System.out.println(<span class="string">&quot;排序前数组data中的内容是:&quot;</span>);</span><br><span class="line">        showArray(data);</span><br><span class="line">        </span><br><span class="line">        Arrays.sort(data);</span><br><span class="line">        </span><br><span class="line">        System.out.println(<span class="string">&quot;排序后数组data中的内容是:&quot;</span>);</span><br><span class="line">        showArray(data);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">showArray</span><span class="params">(<span class="keyword">int</span> [] dat a)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> e : data)</span><br><span class="line">			System.out.printf(<span class="string">&quot;%d\t&quot;</span>, e);</span><br><span class="line">        System.out.println();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
    </footer>
  </div>

    
 
    
</article>

    
    <article
  id="post-Java-6线程"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2021/04/15/Java-6%E7%BA%BF%E7%A8%8B/"
    >Java 6线程</a> 
</h2>
 

    </header>
     
    <div class="article-meta">
      <a href="/2021/04/15/Java-6%E7%BA%BF%E7%A8%8B/" class="article-date">
  <time datetime="2021-04-15T06:09:48.000Z" itemprop="datePublished">2021-04-15</time>
</a> 
  <div class="article-category">
    <a class="article-category-link" href="/categories/Java/">Java</a>
  </div>
   
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <h1 id="线程"><a href="#线程" class="headerlink" title="线程"></a>线程</h1><h2 id="什么叫程序"><a href="#什么叫程序" class="headerlink" title="什么叫程序"></a>什么叫程序</h2><p>​    所谓“程序”，是一个严格有序的指令集合。程序规定了完成某一任务时；计算机所需做的各种操作，以及这些操作的执行顺序。</p>
<h1 id="单道程序设计环境中程序特点"><a href="#单道程序设计环境中程序特点" class="headerlink" title="单道程序设计环境中程序特点"></a>单道程序设计环境中程序特点</h1><ul>
<li>单道程序设计环境是指：</li>
</ul>
<p>​        计算机中除了操作系统之外，只存在一个用户程序，即用户程序独享整个计算机资源</p>
<ul>
<li>单道程序有如下特点：<ul>
<li>资源的独占性:<ul>
<li>任何时候，位于内存中的程序可以使用系统中的一切资源,不可能有其他程序与之竞争。</li>
</ul>
</li>
<li>执行的顺序性:<ul>
<li>内存中每次只有一个程序，各个程序是按次序执行的，即做完一个，再做下一个。<br>绝对不可能出现在一个程序运行过程中，又夹杂进另一个程序执行的现象存在</li>
</ul>
</li>
<li>结果的再现性:<ul>
<li>只要执行环境和初始条件相同，重复执行一个程序，获得的结果总是一样的。</li>
</ul>
</li>
</ul>
</li>
</ul>
<h1 id="多道程序设计环境中程序特点"><a href="#多道程序设计环境中程序特点" class="headerlink" title="多道程序设计环境中程序特点"></a>多道程序设计环境中程序特点</h1><p>多道程序设计是指：</p>
<p>​    计算机中除了操作系统之外，存在多个用户程底，这些程序同时运行</p>
<p>多道程序设计有如下特点：</p>
<ul>
<li>间断性：<ul>
<li>由于资源共享和合作，并发程序间相互制约，造成合作执行间断。</li>
</ul>
</li>
<li>失去封闭性：<ul>
<li>程序执行受外界影响。</li>
</ul>
</li>
<li>不可再现性：<ul>
<li>重复执行时，可能得到不同结果。</li>
</ul>
</li>
</ul>
<h1 id="进程的由来"><a href="#进程的由来" class="headerlink" title="进程的由来"></a>进程的由来</h1><p>​    一方面为了保持程序“是一个在时间上严格有序的指令集合,是静态的保存在存储介质上”这个概念的原有含义，另一方面为了刻画多个程序共同运行时呈现出的这些特征，在操作系统中，以“程序”为基础，又引入了“进程”这一新的概念!</p>
<p>​    通俗点说，<strong>为了不破坏“程序”这个词原有的含义，而又能刻画多个程序共同运行时呈现出的新特征，所以引入了进程这一概念</strong>，按照大多数教材的说法:“为了使程序能并发执行，且为了对并发执行的程序加以描述，所以人们引入了进程”</p>
<h1 id="初学者要注意四个问题"><a href="#初学者要注意四个问题" class="headerlink" title="初学者要注意四个问题"></a>初学者要注意四个问题</h1><ul>
<li>什么是进程(尽量理解)</li>
<li>为什么需要进程(理解)</li>
<li>什么是线程(必须掌握)</li>
<li>为什么需要线程(不知道也没关系)</li>
</ul>
<p><strong>多线程程序在不同的路径执行，交替同时执行</strong></p>
<h1 id="线程的定义"><a href="#线程的定义" class="headerlink" title="线程的定义"></a>线程的定义</h1><ul>
<li><strong>线程是一个程序里的不同执行路径</strong></li>
<li>以前所编写的程序，每个程序都有一个入口、一个出口以及一个顺序执行的序列，在程序执行过程中的任何指定时刻，都只有一个单独的执行点。</li>
<li>事实上，在单个程序内部是可以在同一时刻进行多种运算的，这就是所谓的多线程</li>
<li>程序、进程、线程的异同参见操作系统，这些并不影响我们对Java的学习</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span> <span class="keyword">extends</span> <span class="title">Thread</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">while</span> (<span class="keyword">true</span>)</span><br><span class="line">        &#123;</span><br><span class="line">			System.out.println(<span class="string">&quot;AAAA&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span> <span class="title">Thread_1</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> stat ic <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        aa = <span class="keyword">new</span> A();</span><br><span class="line">		aa.start(); <span class="comment">//aa. start(); 会自动调用run方法</span></span><br><span class="line">        <span class="keyword">while</span> (<span class="keyword">true</span>)</span><br><span class="line">		&#123;</span><br><span class="line">			System.out.println(<span class="string">&quot;BBBB&quot;</span>);</span><br><span class="line">    	&#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>单写aa.run跟普通调用函数一样</p>
<p><strong>start()的功能是</strong></p>
<p>​    1.开启一个新线程</p>
<p>​    2.执行线程，run的代码</p>
<p>A类继承了Thread，重写了run方法</p>
<p><strong>注意：要用调用run方法，写start()</strong></p>
<h1 id="多线程的优势"><a href="#多线程的优势" class="headerlink" title="多线程的优势"></a>多线程的优势</h1><p>多线程编程简单，效率高（能直接共享数据和资源，多进程不能</p>
<p>适合于开发服务程序（如Web服务，聊天服务等)</p>
<h1 id="创建一个线程的第一种方法"><a href="#创建一个线程的第一种方法" class="headerlink" title="创建一个线程的第一种方法"></a>创建一个线程的第一种方法</h1><ol>
<li>创建一个继承Thread的类(假定类名为A)，并重写Thread中的run方法</li>
<li>构造一个A类对象,假定对象名为aa</li>
<li>调用aa的start方法【start方法是从Thread继承过来的】</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ThreadDef1</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">		A aa = <span class="keyword">new</span> A(); <span class="comment">//构造一个A类对象</span></span><br><span class="line">		aa.start(); <span class="comment">//调用aa的start方法, start方法会创建一个新的线程，并自动调用aa对象的run()方法</span></span><br><span class="line">        </span><br><span class="line">		<span class="keyword">while</span> (<span class="keyword">true</span>)</span><br><span class="line">        &#123;</span><br><span class="line">			System.out.println(<span class="string">&quot;BBBBBBBB&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span> <span class="keyword">extends</span> <span class="title">Thread</span> //创建一个继承<span class="title">Thread</span>的类</span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> <span class="comment">//重写Thread中的run方法</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">while</span> (<span class="keyword">true</span>)</span><br><span class="line">        &#123;</span><br><span class="line">			System.out.printin(<span class="string">&quot;AAAAAA&quot;</span>);</span><br><span class="line">    	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="注意问题"><a href="#注意问题" class="headerlink" title="注意问题"></a>注意问题</h2><ul>
<li>Thread中<code>start()</code>方法的功能就是创建一个新的线程，<strong>并自动调用该线程的run()方法</strong>，直接调用run()方法是不会创建一个新的线程的</li>
<li>执行一个线程实际就是执行该线程run方法中的代码</li>
<li>执行完aa.start();后并不表示aa所对应的线程就一定会立即得到了执行，aa.start();执行完后只是表示aa线程具有了可以立即被CPU执行的资格，但由于想抢占CPU执行的线程很多，CPU并不一定会立即去执行aa所对应的线程</li>
<li>一个Thread对象能且只能代表一个线程，<strong>一个Thread对象不能调用两次start()方法</strong>，否则会抛出<code>java.lang.lllegalThreadStateException</code>异常</li>
</ul>
<p>操作系统控制的标准</p>
<ol>
<li><p>优先级</p>
</li>
<li><p>时间的长短</p>
</li>
<li><p>最长等待时间</p>
</li>
<li><p>紧急程度</p>
</li>
</ol>
<h1 id="线程状态的切换"><a href="#线程状态的切换" class="headerlink" title="线程状态的切换"></a>线程状态的切换</h1><p><img src="/2021/04/15/Java-6%E7%BA%BF%E7%A8%8B/%E7%BA%BF%E7%A8%8B%E7%8A%B6%E6%80%81%E7%9A%84%E5%88%87%E6%8D%A2.png" alt="创建一个新线程的第二种方法"></p>
<p>​    执行完 aa.start(); 后并不表示 aa 所对象的线程就一定会立即得到了执行，aa.start(); 执行完后只是表示 t 线程具有了可以立即被CPU执行的资格，但由于想抢占CPU执行的线程很多，CPU并不一定会立即去执行t所对应的线程</p>
<h1 id="创建一个新线程的第二种方法"><a href="#创建一个新线程的第二种方法" class="headerlink" title="创建一个新线程的第二种方法"></a>创建一个新线程的第二种方法</h1><ol>
<li><p>定义一个实现了<code>Runnable</code>接口的类，假定为A</p>
</li>
<li><p>创建A类对象aa,代码如下<br>   <code>A aa = new A</code></p>
</li>
<li><p>利用aa构造一个<code>Thread</code>对象tt,<br>  <code>Thread tt = new Thread(aa);</code></p>
</li>
<li><p>调用tt中的start方法</p>
<p>  <code>tt.start();</code></p>
</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span> <span class="keyword">implements</span> <span class="title">Runnable</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">while</span> (<span class="keyword">true</span>)</span><br><span class="line">        &#123;</span><br><span class="line">        	System.out.println(<span class="string">&quot;AAAA\n&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestThread_2</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">		aa = <span class="keyword">new</span> A():</span><br><span class="line">		<span class="comment">//aa.start(); //error</span></span><br><span class="line">        Thread t = <span class="keyword">new</span> Thread(aa);</span><br><span class="line">        t.start();</span><br><span class="line">        </span><br><span class="line">		<span class="keyword">while</span> (<span class="keyword">true</span>)</span><br><span class="line">		&#123;</span><br><span class="line">			System.out.println(<span class="string">&quot;BBBB\n&quot;</span>);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="线程常用方法的介绍"><a href="#线程常用方法的介绍" class="headerlink" title="线程常用方法的介绍"></a>线程常用方法的介绍</h1><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">final</span> <span class="keyword">void</span> <span class="title">setName</span><span class="params">(String name)</span>  </span></span><br><span class="line"><span class="function">    设置当前线程的名字</span></span><br><span class="line"><span class="function">    </span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Thread <span class="title">currentThread</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    返回对当前正在执行的线程对象的引用。</span></span><br><span class="line"><span class="function">    </span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">final</span> String <span class="title">getName</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    返回当前线程的名字</span></span><br></pre></td></tr></table></figure>

<p><strong>线程之间的执行顺序是不确定的</strong></p>
<h1 id="线程的控制"><a href="#线程的控制" class="headerlink" title="线程的控制"></a>线程的控制</h1><h2 id="线程控制的基本方法"><a href="#线程控制的基本方法" class="headerlink" title="线程控制的基本方法"></a>线程控制的基本方法</h2><table>
<thead>
<tr>
<th>方法</th>
<th align="left">功能</th>
</tr>
</thead>
<tbody><tr>
<td>isAlive()</td>
<td align="left">判断线程是否还”活“着，即线程是否还未终止。</td>
</tr>
<tr>
<td>getPriority()</td>
<td align="left">获得线程的优先级数值</td>
</tr>
<tr>
<td>setPriority()</td>
<td align="left">设置线程的优先级数值</td>
</tr>
<tr>
<td>Thread.sleep()</td>
<td align="left">将当前线程睡眠指定毫秒数</td>
</tr>
<tr>
<td>join()</td>
<td align="left">调用某线程的该方法,将当前线程与该线程”合并”，即等待该线程结束,再恢复当前线程的运行。</td>
</tr>
<tr>
<td>yield()</td>
<td align="left">让出CPU，当前线程进入就绪队列等待调度。</td>
</tr>
<tr>
<td>wait()</td>
<td align="left">当前线程进入对象的wait pool。</td>
</tr>
<tr>
<td>notify() <br>notifyAll()</td>
<td align="left">唤醒对象的wait poo1中的一个<br>所有等待线程。</td>
</tr>
</tbody></table>
<p><strong><code>sleep()</code>是堵塞，<code>yield()</code>是就绪</strong></p>
<h1 id="线程优先级"><a href="#线程优先级" class="headerlink" title="线程优先级"></a>线程优先级</h1><ul>
<li>线程的优先级用数字来表示，范围从1到10，数值越高等级越高</li>
<li>主线程的缺省优先级是5，子线程的优先级默认与其父线程相同</li>
<li>Java提供一个线程调度器来监控程序中启动后进入就绪状态的所有线程线程调度器按照线程的优先级决定应调度哪个线程来执行。</li>
<li>线程的优先级用数字表示，范围从1到10，一个线程的缺省优先级是5。◇<br>◇<code>Thread.MIN_PRIORITY=1</code><br>◇<code>Thread.MAX_PRIORITY=10</code><br>◇<code>Thread.NORM_PRIORITY=5</code></li>
<li>使用下述线方法获得或设置线程对象的优先级。<br>◇<code>int getPriority();</code><br>◇<code>void setPriority(int newPriority);</code></li>
<li>通常高优先级的线程将先于优先级低的线程执行，但并不总是这样，因此<strong>实际开发中并不单纯依赖优先级来决定线程运行次序</strong></li>
<li>相等交替执行（内部有时间片轮转）</li>
</ul>
<h1 id="线程的休眠"><a href="#线程的休眠" class="headerlink" title="线程的休眠"></a>线程的休眠</h1><ul>
<li><p>线程休眠——暂停执行当前运行中的线程，使之进入阻塞状态，待经过指定的“延迟时间”后再醒来并转入到就绪状态。</p>
</li>
<li><p><code>Thread</code>类提供的相关方法:<br> public static void sleep(long millis)<br> public static void sleep(long millis, int nanos)</p>
</li>
<li><p>由于是静态方法，可以由Thread直接调用</p>
</li>
<li><p><strong>sleep()方法会抛出<code>InterruptedException</code>异常，我们必须得对其进行捕捉</strong></p>
<p>示例</p>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestSleep</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        A aa = <span class="keyword">new</span> A();</span><br><span class="line">		Thread tt = <span class="keyword">new</span> Thread(aa);</span><br><span class="line">        tt.start();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span> <span class="keyword">implements</span> <span class="title">Runnable</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> <span class="comment">//9行</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;<span class="number">10</span>; ++i)</span><br><span class="line">        &#123;</span><br><span class="line">        	System.out.println(Thread.currentThread().getNvame() + <span class="string">&quot; &quot;</span>+ i);</span><br><span class="line">            <span class="keyword">try</span></span><br><span class="line">            &#123;</span><br><span class="line">                Thread.sleep(<span class="number">1000</span>); </span><br><span class="line">                <span class="comment">//这里的Thread.sleep(1000)会抛出异常必须的进行捕捉，不能在9的后面添加throws Exception</span></span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">catch</span> (Exception e)</span><br><span class="line">            &#123;</span><br><span class="line">            &#125; </span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h1 id="无论是继承Thread类的run方法还是实现Runnable接口的run方法，都不能抛出任何异常"><a href="#无论是继承Thread类的run方法还是实现Runnable接口的run方法，都不能抛出任何异常" class="headerlink" title="无论是继承Thread类的run方法还是实现Runnable接口的run方法，都不能抛出任何异常"></a>无论是继承Thread类的run方法还是实现Runnable接口的run方法，都不能抛出任何异常</h1><p><code>**Runnable</code>（父类）没有抛异常，所以A（子类）不能抛异常**</p>
<p><strong>run方法处理异常要写tey，不能抛出</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span> <span class="keyword">implements</span> <span class="title">Runnable</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> <span class="comment">//throws Exception //注释符不能去掉，否则编译会报错</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">B</span> <span class="keyword">extends</span> <span class="title">Thread</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> <span class="comment">//throws Exception //注释符不能去掉，否则编译会报错</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>原因:</strong><br>    <strong>重写方法抛出异常的范围不能大于被重写法排除的异常范围</strong></p>
<h1 id="线程的让步"><a href="#线程的让步" class="headerlink" title="线程的让步"></a>线程的让步</h1><ul>
<li>让出CPU，给其他线程执行的机会</li>
<li>让运行中的线程主动放弃当前获得的CPU处理机会，但不是使该线程阻塞,而是使之转入就绪状态。<br>  <code>public static void yield()</code></li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestJoin</span> </span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        MyRunner r = <span class="keyword">new</span> MyRunner();</span><br><span class="line">        Thread t = <span class="keyword">new</span> Thread(r);</span><br><span class="line">        t.start();</span><br><span class="line">        <span class="keyword">try</span></span><br><span class="line">        &#123;</span><br><span class="line">        	t.join(); <span class="comment">//7行</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">catch</span> (InterruptedException)</span><br><span class="line">        &#123;</span><br><span class="line">        	e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;<span class="number">50</span>;i++)</span><br><span class="line">        &#123;</span><br><span class="line">        	System.out.println(<span class="string">&quot;主线程:&quot;</span> + i);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyRunner</span> <span class="keyword">implements</span> <span class="title">Runnable</span> </span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i=O;i&lt;<span class="number">50</span>; i++)</span><br><span class="line">        &#123;</span><br><span class="line">			System.out.println(<span class="string">&quot;子线程:&quot;</span> +i);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>​    7行的t.join();暂停当前正在执行t.join();的线程,直到t所对应的线程运行终止之后,当前线程才会获得继续执行的机会</p>
<p><strong>注意: t.join()不是暂停t对象所对应的线程</strong></p>
<h1 id="线程的同步"><a href="#线程的同步" class="headerlink" title="线程的同步"></a>线程的同步</h1><h2 id="买票程序"><a href="#买票程序" class="headerlink" title="买票程序"></a>买票程序</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span> <span class="title">implemonts</span> <span class="title">Runnable</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">int</span> tickets = <span class="number">100</span>;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">while</span> (<span class="keyword">true</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (ticket s &gt; <span class="number">0</span>)</span><br><span class="line">            &#123;</span><br><span class="line">				System.out.printf(<span class="string">&quot;%s线程正在卖出第%d张票\n&quot;</span>,Thread.currentThread().getName(),tickets);</span><br><span class="line">    			--tickets;</span><br><span class="line">        	&#125;</span><br><span class="line">			<span class="keyword">else</span></span><br><span class="line">            &#123;</span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">		&#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestTickets</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">		aal = <span class="function">now <span class="title">A</span><span class="params">()</span></span>;</span><br><span class="line">		Thread t1 = <span class="keyword">new</span> Thread (aa1);</span><br><span class="line">        t1.start();</span><br><span class="line">        </span><br><span class="line">		A aa2 = <span class="keyword">new</span> A();</span><br><span class="line">		Thread t2= <span class="function">now <span class="title">Thread</span><span class="params">(aa2)</span></span>;</span><br><span class="line">        t2.start();</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//正确</span></span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">        aa = now A();</span></span><br><span class="line"><span class="comment">        Thread t1= now Thread(aa);</span></span><br><span class="line"><span class="comment">        t1.start();</span></span><br><span class="line"><span class="comment">        </span></span><br><span class="line"><span class="comment">        Thread t2= now Thread(aa);</span></span><br><span class="line"><span class="comment">        t2.start();</span></span><br><span class="line"><span class="comment">        */</span></span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>这不是两个线程买100张，是两个程序个卖个的</p>
<p>出现同一张票卖多次原因</p>
<p>1.处理相同资源</p>
<p>2.关键步骤不是互斥的</p>
<h2 id="Synchronized关键字"><a href="#Synchronized关键字" class="headerlink" title="Synchronized关键字"></a>Synchronized关键字</h2><ul>
<li><strong>synchronized可以用来修饰</strong><ul>
<li><strong>一个方法</strong></li>
<li><strong>一个方法内部的某个代码块</strong></li>
</ul>
</li>
</ul>
<h4 id="修饰代码块"><a href="#修饰代码块" class="headerlink" title="修饰代码块"></a>修饰代码块</h4><p>格式：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">svnchronized(类对象名aa) <span class="comment">//1行</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">//同步代码块 //3行</span></span><br><span class="line">&#125;<span class="comment">//4行</span></span><br></pre></td></tr></table></figure>

<p>功能：</p>
<ul>
<li>synchronized(类对象名aa)的含义是:判断aa是否已经被其他线程霸占，如果发现已经被其他线程霸占，则当前线程陷入等待中，如果发现aa没有被其他线程霸占，则当前线程霸占在aa对象，并执行3行的同步代码块，在当前线程执行3行代码时，其他线程将无法再执行3行的代码(因为当前线程己经霸占了aa对象)当前线程执行完3行的代码后，会自动释放对aa对象的霸占，此时其他线程会相互竞争对aa的霸占，最终CPU会选择其中的某一个线程执行</li>
<li>最终导致的结果是<strong>：一个线程正在操作某资源的时候,将不允许其它线程操作该资源，即一次只允许一个线程处理该资源</strong></li>
</ul>
<p>释放后在一起竞争资源</p>
<h4 id="修饰方法"><a href="#修饰方法" class="headerlink" title="修饰方法"></a>修饰方法</h4><ul>
<li>Synchronized修饰一个方法时，实际霸占的是<strong>该方法的this指针所指向的对象</strong></li>
<li>即Synchronized修饰一个方法时，实际霸占的<strong>正在调用该方法的对象</strong></li>
<li>附注:<br> 霸占的专业术语叫锁定，霸占住的那个对象专业术语叫做监听器</li>
</ul>
<h2 id="生产消费"><a href="#生产消费" class="headerlink" title="生产消费"></a>生产消费</h2><h3 id="同步概念"><a href="#同步概念" class="headerlink" title="同步概念"></a>同步概念</h3><p>​    通常，一些同时运行的线程需要共享数据。在这种时候，每个线程就必须要考虑与其他一起共享数据的线程的状态与行为，否则的话就不能保证共享数据的一致性，从而也就不能保证程序的正确性。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Stack</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> index = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">char</span>[] data = <span class="keyword">new</span> <span class="keyword">char</span>[<span class="number">6</span>];</span><br><span class="line">    <span class="function"><span class="keyword">public</span> boid <span class="title">push</span><span class="params">(<span class="keyword">char</span> c)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        data[index] = c;</span><br><span class="line">        index++;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">char</span> <span class="title">pop</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        index--;</span><br><span class="line">        <span class="keyword">return</span> data[index];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>​    当有两个线程A和B同时使用了Stack类的一个对象时现在我要求：0先把r存入Stack中，再将r取出来<br>​    下面的步骤详细演示了AB线程不同步所带来的问题</p>
<p><img src="/2021/04/15/Java-6%E7%BA%BF%E7%A8%8B/%E7%BA%BF%E7%A8%8B%E4%B8%8D%E5%90%8C%E6%AD%A5%E6%BC%94%E7%A4%BA.png"></p>
<p>最终结果是：’r’ 没有被存入，取出的是 ‘C’ 而不是 ‘r’</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SyncStack</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">	pnivate <span class="keyword">int</span> index =<span class="number">0</span>;</span><br><span class="line">	pnvate <span class="keyword">char</span>[] data = <span class="keyword">new</span> <span class="keyword">char</span>[<span class="number">6</span>];</span><br><span class="line">    </span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title">push</span><span class="params">(<span class="keyword">char</span> c)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">    	<span class="keyword">while</span>(index == datalength)</span><br><span class="line">        &#123;</span><br><span class="line">    		<span class="keyword">try</span></span><br><span class="line">            &#123;</span><br><span class="line">    			<span class="keyword">this</span>.wait(); <span class="comment">//7行</span></span><br><span class="line">            &#125;</span><br><span class="line">    		<span class="keyword">catch</span>(InterruptedException e)</span><br><span class="line">            &#123;</span><br><span class="line">            &#125;</span><br><span class="line">    	<span class="keyword">this</span>.notify() <span class="comment">//10行</span></span><br><span class="line">        data[index] = c;</span><br><span class="line">   	 	index++;</span><br><span class="line">    	System.out.println(<span class="string">&quot;produced: &quot;</span> + c);</span><br><span class="line">    &#125;</span><br><span class="line">        </span><br><span class="line">    <span class="function"><span class="keyword">public</span> synchroniged <span class="keyword">char</span> <span class="title">pop</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">while</span>(inde == <span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">try</span></span><br><span class="line">            &#123;</span><br><span class="line">            	<span class="keyword">this</span>.wat();</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">catch</span>(InterruptedException e)</span><br><span class="line">            &#123;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">this</span>.notify(); <span class="comment">//20行</span></span><br><span class="line">        index--;</span><br><span class="line">        System.out.println(<span class="string">&quot;消费:&quot;</span> + data[index]);</span><br><span class="line">        <span class="keyword">return</span> data[index]; <span class="comment">//23行</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>​    假设现在有两个线程P(生产)和C(消费)P生产己满，执行7行代码陷入阻塞状态，同时释放P线程对this的锁定，这时候C线程会得到this对象的标志位开始运行。</p>
<p>​    另外C线程执行完20行代码后，程序并不会立即转到P线程开始运行，因为C执行notify,只是叫醒P,让P从因为wait this对象而陷入阻塞的状态进入就绪状态,记住：一个线程notify，该线程并不会释放对this的锁定，只有C执行完23行的代码后，C才会释放对this的锁定，这时候C和P会同时争夺对this的锁定，具体执行哪个由系统调度器决定</p>
<p>要是<code>this.wait();</code>没有陷入堵塞，<code>this.notify();</code>就不起效果。</p>
<h3 id="注意问题-1"><a href="#注意问题-1" class="headerlink" title="注意问题"></a>注意问题</h3><ul>
<li><p>执行完20行的代码后，程序绝对不会立即切换到另一个线程</p>
</li>
<li><p>20行代码叫醒的是其他线程，叫醒的不是本线程</p>
</li>
<li><p>在最开始，P和C刚开始执行时：<br>即便P没有wait，也可以在C中notify,  即便c没有wait，也可以在P中notify</p>
</li>
</ul>
<h1 id="notify-和-wait-方法"><a href="#notify-和-wait-方法" class="headerlink" title="notify 和 wait 方法"></a>notify 和 wait 方法</h1><h2 id="this-notify"><a href="#this-notify" class="headerlink" title="this.notify()"></a>this.notify()</h2><p><strong>功能:</strong></p>
<ul>
<li>不是叫醒正在执行this.notify();的当前线程</li>
<li>而是叫醒一个现在<code>正在wait this对象</code>的其他线程，如果有多个线程正在wait this对象，</li>
<li>通常是叫醒<code>最先wait this对象</code>的线程,但具体是叫醒哪一个，</li>
<li>这是由系统调度器控制,程序员无法控制</li>
</ul>
<p>例子：</p>
<ul>
<li>假设现在有T1、T2、T3、T4四个线程我们在T4线程中执行了aa.notify()语句</li>
<li>则即便此时T1T2 T3没有一个线程因为wait aa对象而陷入阻塞状态，T4线程中执行aa.notify方法时也不会有任何错误</li>
<li>执行aa.notify方法时如果一个线程都没有叫醒，这是可以的</li>
</ul>
<h3 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h3><h4 id="aa-wait"><a href="#aa-wait" class="headerlink" title="aa.wait()"></a>aa.wait()</h4><ul>
<li>将执行aa.wait()的当前线程转入阻塞状态，让出CPU的控制权</li>
<li>释放对aa的锁定</li>
</ul>
<h4 id="aa-notify"><a href="#aa-notify" class="headerlink" title="aa.notify()"></a>aa.notify()</h4><ul>
<li>假设执行aa.notify()的当前线程为T1</li>
<li>如果当前时刻有其他线程因为执行了aa.wait()而陷入阻塞状态，则叫醒其中的一个,</li>
<li>所谓叫醒某个线程就是令该线程从因为wai而陷入阻塞的状态转入就绪状态</li>
</ul>
<h4 id="aa-notifyAll"><a href="#aa-notifyAll" class="headerlink" title="aa.notifyAll()"></a>aa.notifyAll()</h4><ul>
<li>叫醒其他<strong>所有</strong>的因为执行了aa.wait()而陷入阻塞状态的线程</li>
</ul>
<h1 id="生产消费【经典问题】"><a href="#生产消费【经典问题】" class="headerlink" title="生产消费【经典问题】"></a>生产消费【经典问题】</h1><p>​    一个仓库最多容纳6个产品，制造商现在要制造20件产品存入仓库，消费者要从仓库取出这20件产品来消费，制造商制造产品和消费者取出产品的速度很可能是不一样的，编程实现两者的同步</p>
<h1 id="两类线程："><a href="#两类线程：" class="headerlink" title="两类线程："></a>两类线程：</h1><p>​    一、我不终止整个程序不能终止</p>
<p>​    二、我没终止其他线程停止我也立即停止</p>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
    </footer>
  </div>

    
 
    
</article>

    
    <article
  id="post-Shiro-RememberMe-1-2-4-反序列化导致的命令执行漏洞复现"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2021/04/15/Shiro-RememberMe-1-2-4-%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96%E5%AF%BC%E8%87%B4%E7%9A%84%E5%91%BD%E4%BB%A4%E6%89%A7%E8%A1%8C%E6%BC%8F%E6%B4%9E%E5%A4%8D%E7%8E%B0/"
    >Shiro RememberMe 1.2.4 反序列化导致的命令执行漏洞复现</a> 
</h2>
 

    </header>
     
    <div class="article-meta">
      <a href="/2021/04/15/Shiro-RememberMe-1-2-4-%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96%E5%AF%BC%E8%87%B4%E7%9A%84%E5%91%BD%E4%BB%A4%E6%89%A7%E8%A1%8C%E6%BC%8F%E6%B4%9E%E5%A4%8D%E7%8E%B0/" class="article-date">
  <time datetime="2021-04-15T05:49:15.000Z" itemprop="datePublished">2021-04-15</time>
</a>    
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <h1 id="0x00-概述"><a href="#0x00-概述" class="headerlink" title="0x00 概述"></a>0x00 概述</h1><p>​    Apache Shiro 在 Java 的权限及安全验证框架中占用重要的一席之地，在它编号为550的 issue 中爆出严重的 Java 反序列化漏洞。</p>
<h1 id="0x01-漏洞场景还原"><a href="#0x01-漏洞场景还原" class="headerlink" title="0x01 漏洞场景还原"></a>0x01 漏洞场景还原</h1><p>环境搭建：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">apt-get install docker</span><br><span class="line">apt-get install docker-compose</span><br><span class="line">reboot</span><br><span class="line">service docker start （每次开机需要重新启动服务）</span><br><span class="line">docker pull medicean&#x2F;vulapps:s_shiro_1 (漫长的下载)</span><br><span class="line">docker run -d -p 80:8080 medicean&#x2F;vulapps:s_shiro_1</span><br></pre></td></tr></table></figure>

<p>访问ip，出现以下页面即搭建成功：</p>
<p><img src="/2021/04/15/Shiro-RememberMe-1-2-4-%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96%E5%AF%BC%E8%87%B4%E7%9A%84%E5%91%BD%E4%BB%A4%E6%89%A7%E8%A1%8C%E6%BC%8F%E6%B4%9E%E5%A4%8D%E7%8E%B0/%E7%8E%AF%E5%A2%83%E5%9B%BE1.png"></p>
<h1 id="0x02-漏洞验证"><a href="#0x02-漏洞验证" class="headerlink" title="0x02 漏洞验证"></a>0x02 漏洞验证</h1><p>访问ip，点击<code>Log in</code>，进行登录</p>
<p><img src="/2021/04/15/Shiro-RememberMe-1-2-4-%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96%E5%AF%BC%E8%87%B4%E7%9A%84%E5%91%BD%E4%BB%A4%E6%89%A7%E8%A1%8C%E6%BC%8F%E6%B4%9E%E5%A4%8D%E7%8E%B0/%E7%99%BB%E5%BD%95%E9%A1%B5%E9%9D%A21.png"></p>
<p>Username 和 Password 随意输入，但<strong>一定要勾选</strong><code>Remember Me</code>，点击Login 进行抓包</p>
<p><img src="/2021/04/15/Shiro-RememberMe-1-2-4-%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96%E5%AF%BC%E8%87%B4%E7%9A%84%E5%91%BD%E4%BB%A4%E6%89%A7%E8%A1%8C%E6%BC%8F%E6%B4%9E%E5%A4%8D%E7%8E%B0/%E7%99%BB%E5%BD%95%E9%A1%B5%E9%9D%A22.png"></p>
<p>数据包发送至<code>Repeater模块</code>再次发送，出现<code>deleteMe</code>则漏洞存在</p>
<p><img src="/2021/04/15/Shiro-RememberMe-1-2-4-%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96%E5%AF%BC%E8%87%B4%E7%9A%84%E5%91%BD%E4%BB%A4%E6%89%A7%E8%A1%8C%E6%BC%8F%E6%B4%9E%E5%A4%8D%E7%8E%B0/%E9%AA%8C%E8%AF%81%E6%BC%8F%E6%B4%9E.png"></p>
<h1 id="0x03-漏洞分析"><a href="#0x03-漏洞分析" class="headerlink" title="0x03 漏洞分析"></a>0x03 漏洞分析</h1><p>​    从官方文档中，知道在Shiro配置类中加入rememberMe管理器代码中写到cookie加密密钥默认为<strong>AES算法</strong>  </p>
<p>​    Apache Shiro默认使用了<code>CookieRememberMeManager</code>，其处理cookie的流程是：得到<code>rememberMe的cookie值</code> &gt;  <code>Base64解码</code>–&gt;<code>AES解密</code>–&gt;<code>反序列化</code> AES的密钥是硬编码，密钥存储在源码中，分析源码就可获得密钥</p>
<p>从官方的 issue 上来看，存在几个重要的点:</p>
<ul>
<li>rememberMe cookie</li>
<li>CookieRememberMeManager.java</li>
<li>Base64</li>
<li>AES</li>
<li>加密密钥硬编码</li>
<li>Java serialization</li>
</ul>
<p>输入正确账户，获取cookie值</p>
<p><img src="/2021/04/15/Shiro-RememberMe-1-2-4-%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96%E5%AF%BC%E8%87%B4%E7%9A%84%E5%91%BD%E4%BB%A4%E6%89%A7%E8%A1%8C%E6%BC%8F%E6%B4%9E%E5%A4%8D%E7%8E%B0/%E8%8E%B7%E5%8F%96cookie.png"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dQf1WDa09v4TDHbM1PZPi6sBhQ3zl1OwDb1S+65wgSBl8TYuJ9KJ9cXgR0CPCk1LiUEZPoSzvruwEklb8GSdIydV8NjnJiKxysiEWzG1j+WTu536Rdl8b6Q&#x2F;XNrNStpUSq3e9XELd0nFYYTeN0T9PJY0aXoJZiXdX7&#x2F;+0XcMhYhktyY+TmDAjDce2Th15sQmltPHJt6q0xX&#x2F;nttUd3n&#x2F;b5mnezxBenwiqWyuG8zNFIZOU7iVsga8UwqthnZsUwF7JkJBWMO3duSxcpTO9G5NmdWf1CnkCFmItyjyomZRLiiSU8CSsrrSGgg7k4BoIC6kH9NuMwwKbBKzofmViN9NxnKw+zWo6FJd8t8sRitAsIv+6FS1dqCA&#x2F;smFivXJ3hu052f5greHTT4nmwPBGB3dGpR6497roCVCFpaGV89rN72dFPpHakitEXFJc92VJnAdnKpvlsTNnzhRRWJDb5nA0p1jn&#x2F;iI&#x2F;ckSiXxKiKDN9TyrOpVviekVCKau+BNxa6dG</span><br></pre></td></tr></table></figure>

<p>进行在线base64解码，发现为乱码</p>
<p><img src="/2021/04/15/Shiro-RememberMe-1-2-4-%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96%E5%AF%BC%E8%87%B4%E7%9A%84%E5%91%BD%E4%BB%A4%E6%89%A7%E8%A1%8C%E6%BC%8F%E6%B4%9E%E5%A4%8D%E7%8E%B0/base64%E8%A7%A3%E7%A0%811.png"></p>
<p>将解码内容存储为二进制文件 1.py</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> base64</span><br><span class="line">str1 = <span class="string">&quot;dQf1WDa09v4TDHbM1PZPi6sBhQ3zl1OwDb1S+65wgSBl8TYuJ9KJ9cXgR0CPCk1LiUEZPoSzvruwEklb8GSdIydV8NjnJiKxysiEWzG1j+WTu536Rdl8b6Q/XNrNStpUSq3e9XELd0nFYYTeN0T9PJY0aXoJZiXdX7/+0XcMhYhktyY+TmDAjDce2Th15sQmltPHJt6q0xX/nttUd3n/b5mnezxBenwiqWyuG8zNFIZOU7iVsga8UwqthnZsUwF7JkJBWMO3duSxcpTO9G5NmdWf1CnkCFmItyjyomZRLiiSU8CSsrrSGgg7k4BoIC6kH9NuMwwKbBKzofmViN9NxnKw+zWo6FJd8t8sRitAsIv+6FS1dqCA/smFivXJ3hu052f5greHTT4nmwPBGB3dGpR6497roCVCFpaGV89rN72dFPpHakitEXFJc92VJnAdnKpvlsTNnzhRRWJDb5nA0p1jn/iI/ckSiXxKiKDN9TyrOpVviekVCKau+BNxa6dG&quot;</span></span><br><span class="line">tem = base64.b64decode(str1)</span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&quot;test.bin&quot;</span>,<span class="string">&quot;wb&quot;</span>) <span class="keyword">as</span> f:                                           </span><br><span class="line">      f.write(tem)</span><br><span class="line"> f.close()</span><br></pre></td></tr></table></figure>

<p><img src="/2021/04/15/Shiro-RememberMe-1-2-4-%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96%E5%AF%BC%E8%87%B4%E7%9A%84%E5%91%BD%E4%BB%A4%E6%89%A7%E8%A1%8C%E6%BC%8F%E6%B4%9E%E5%A4%8D%E7%8E%B0/%E8%A7%A3%E7%A0%81%E5%90%8E%E4%BA%8C%E8%BF%9B%E5%88%B6.png"></p>
<p>没有看到有明确的 Java 序列化特征字</p>
<p><strong>Java 序列化特征字</strong></p>
<p>​    <strong><code>实现Serializable接口</code></strong></p>
<p>相关文章链接</p>
<p><a href>https://blog.csdn.net/u013378306/article/details/107741539</a></p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/u013378306/article/details/107741539">https://blog.csdn.net/lqzkcx3/article/details/79463450</a></p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/lqzkcx3/article/details/79463450">https://www.cnblogs.com/wxgblogs/p/5849951.html</a></p>
<p>根据文章提到了 AES 和 加密密钥硬编码，所以需要去源码寻找密钥</p>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
    </footer>
  </div>

    
 
    
</article>

    
    <article
  id="post-Java-5String类"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2021/04/15/Java-5String%E7%B1%BB/"
    >Java 5String类</a> 
</h2>
 

    </header>
     
    <div class="article-meta">
      <a href="/2021/04/15/Java-5String%E7%B1%BB/" class="article-date">
  <time datetime="2021-04-15T02:55:50.000Z" itemprop="datePublished">2021-04-15</time>
</a> 
  <div class="article-category">
    <a class="article-category-link" href="/categories/Java/">Java</a>
  </div>
   
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <h1 id="String类"><a href="#String类" class="headerlink" title="String类"></a>String类</h1><ul>
<li>java.lang.String类对象表示不可修改的Unicode编码字符串</li>
<li>在Java中<strong>双引号括起来的字符串也被当做String对象</strong><ul>
<li>system.out.printIn(“abc”.length()); //输出3<br>system.out.printIn(“abc”.equals(“abc”)); //输出true</li>
</ul>
</li>
</ul>
<p><strong>Steing类的equals已被重写相等为true</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">String str1 = <span class="keyword">new</span> String(<span class="string">&quot;china&quot;</span>);</span><br><span class="line">String str2 = <span class="keyword">new</span> String(<span class="string">&quot;china&quot;</span>);</span><br><span class="line">System.out.println(str1.equals(str2)):</span><br><span class="line">___________________________</span><br><span class="line">    输出结果</span><br><span class="line">    	<span class="keyword">true</span></span><br></pre></td></tr></table></figure>

<p><strong>==号比较自身，equals比较指向内容</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (str1 == str2)	<span class="comment">//是判断str1和str2自身的内容是否相等?还是用来判断str1指向的对象的内容和str2指向的对象的内容是否相等?   答：代表前者</span></span><br><span class="line">	System.out.println(<span class="string">&quot;str1 == str2&quot;</span>);</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">	System.out.println(<span class="string">&quot;str1 != str2&quot;</span>);</span><br></pre></td></tr></table></figure>

<h2 id="String类示例内存示意图"><a href="#String类示例内存示意图" class="headerlink" title="String类示例内存示意图"></a>String类示例内存示意图</h2><p>​    <strong>字符串常量是在数据区存放</strong></p>
<p><img src="/2021/04/15/Java-5String%E7%B1%BB/%E7%A4%BA%E6%84%8F%E5%9B%BE1.png"></p>
<p><img src="/2021/04/15/Java-5String%E7%B1%BB/%E7%A4%BA%E6%84%8F%E5%9B%BE2.png"></p>
<h1 id="String类的常用方法-字符串和整数的相互转化"><a href="#String类的常用方法-字符串和整数的相互转化" class="headerlink" title="String类的常用方法   字符串和整数的相互转化"></a>String类的常用方法   字符串和整数的相互转化</h1><p>常用方法</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">char</span> <span class="title">charat</span><span class="params">(<span class="keyword">int</span> index)</span>  返回字符串中第index个字符</span></span><br><span class="line"><span class="function">    </span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">length</span><span class="params">()</span>  返回字符串的长度</span></span><br><span class="line"><span class="function">    </span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">indexof</span> <span class="params">(string str)</span>  返回字符串中出现str的第一个位置</span></span><br><span class="line"><span class="function">    </span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">indexof</span><span class="params">(string str,<span class="keyword">int</span> fromIndex)</span>  返回字符串中从fromIndex开始出现str的第一个位置</span></span><br><span class="line"><span class="function">    </span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">equalsIgnoreCase</span> <span class="params">(string another)</span>  比较字符串与another是否一样（忽略大小写)</span></span><br><span class="line"><span class="function">    </span></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">replace</span><span class="params">(<span class="keyword">char</span> oldChar ,<span class="keyword">char</span> newChar)</span>  在字符串中用newchar字符替换oldchar字符</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">char</span> <span class="title">charat</span><span class="params">(<span class="keyword">int</span> index)</span>   返回字符串中第index个字符</span></span><br><span class="line"><span class="function">    </span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">length</span><span class="params">()</span>   返回字符串的长度</span></span><br><span class="line"><span class="function">    </span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">indexof</span> <span class="params">(string str)</span>  返回字符串中出现str的第一个位置</span></span><br><span class="line"><span class="function">    </span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">indexof</span><span class="params">(string str,<span class="keyword">int</span> fromIndex)</span>   返回字符串中从fromIndex开始出现str的第一个位置</span></span><br><span class="line"><span class="function">    </span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">equalsIgnoreCase</span> <span class="params">(string another)</span>  比较字符串与another是否一样（忽略大小写)</span></span><br><span class="line"><span class="function">    </span></span><br><span class="line"><span class="function"><span class="keyword">public</span> string <span class="title">replace</span><span class="params">(<span class="keyword">char</span> oldChar ,<span class="keyword">char</span> newChar)</span>  在字符串中用newchar字符替换oldchar字符</span></span><br></pre></td></tr></table></figure>

<p>​    静态方法 </p>
<p>​    <code>public String[] split(String regex)</code>可以将一个字符串按照指定的分隔符分隔，返回分隔后的字符串数组。</p>
<p>​    <code>public static String valueOf(...)</code> 可以将基本类型数据转换为字符串<strong>（字符转换）</strong></p>
<p>例子</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestSt</span> <span class="title">ring_2</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> i = <span class="number">123</span>;</span><br><span class="line">        String str <span class="string">&quot;456&quot;</span>;</span><br><span class="line">        <span class="comment">//str = i; //error</span></span><br><span class="line">        <span class="comment">//i = str; //error</span></span><br><span class="line">        str = String.value0f(i);</span><br><span class="line">        System.out.printf(<span class="string">&quot;str = %s\n&quot;</span>, str);</span><br><span class="line">        </span><br><span class="line">        i = Integer.parselnt(str);</span><br><span class="line">        System.out.printf(<span class="string">&quot;i = %d\n&quot;</span>，i);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="举例"><a href="#举例" class="headerlink" title="举例"></a>举例</h2><p>1.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        String s1 = <span class="string">&quot;sun java&quot;</span>;</span><br><span class="line">        String s2 =<span class="string">&quot;sun Java&quot;</span>;</span><br><span class="line">        System.out.println(s1.charAt(<span class="number">1</span>)); <span class="comment">//u</span></span><br><span class="line">        System.out.println(s2.length()); <span class="comment">//8</span></span><br><span class="line">        System.out.println(s1.indexOf(<span class="string">&quot;java&quot;</span>)); <span class="comment">//4</span></span><br><span class="line">        System.out.println(s1.indexOf(<span class="string">&quot;Java&quot;</span>)); <span class="comment">//-1</span></span><br><span class="line">        System.out.println(s1.equals(s2)); <span class="comment">//false</span></span><br><span class="line">        System.out.println(s1.equalsIgnoreCase(s2) ); <span class="comment">//true</span></span><br><span class="line">        </span><br><span class="line">        String s =<span class="string">&quot;我是程序员，我在学java&quot;</span>;</span><br><span class="line">        String sr = s.replace(<span class="string">&#x27;我&#x27;</span>,<span class="string">&#x27;你&#x27;</span>);</span><br><span class="line">        System.out.println(sr); <span class="comment">//你是程序员,你在学java</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>2.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span> <span class="params">(String[] args)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        String s = <span class="string">&quot;welcome to Java world!&quot;</span>;</span><br><span class="line">        String s1 = <span class="string">&quot;sun java&quot;</span>;</span><br><span class="line">        System.out.println(s.startswith(<span class="string">&quot;welcome&quot;</span>)); <span class="comment">//true</span></span><br><span class="line">        System.out-println(s.endswith(<span class="string">&quot;world&quot;</span>)); <span class="comment">//false</span></span><br><span class="line">        String sL = s.toLowerCase();</span><br><span class="line">        String sU = s.toUpperCase();</span><br><span class="line">        System.out.println(sL);  <span class="comment">//welcome to java world!</span></span><br><span class="line">        System.out.println(sU); <span class="comment">//wELCOMETo JAVA WORLD!</span></span><br><span class="line">        String subs = s.substring(<span class="number">11</span>);</span><br><span class="line">        System.out.println(subs); <span class="comment">//Java world!</span></span><br><span class="line">        String sp =s1.trim();</span><br><span class="line">        System.out.println(sp); <span class="comment">//sun java</span></span><br><span class="line">    &#125;                                                       </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>3.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span> </span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">		<span class="keyword">int</span> j = <span class="number">1234567</span>;</span><br><span class="line">		String sNumber = String.valueof(j);</span><br><span class="line">        System.out.println(<span class="string">&quot;j 是&quot;</span> + sNumber.length() + <span class="string">&quot;位数。&quot;</span>);</span><br><span class="line">        String s = <span class="string">&quot;Mary,F,1976&quot;</span>;</span><br><span class="line">		String[] sPlit = <span class="string">&#x27;s.split(”,&quot;);</span></span><br><span class="line"><span class="string">        for(int i=0; i &lt; sPlit.iength; i++)</span></span><br><span class="line"><span class="string">        &#123;</span></span><br><span class="line"><span class="string">			System.out.println(sPlit[i]);</span></span><br><span class="line"><span class="string">		&#125;</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">&#125;</span></span><br><span class="line"><span class="string">______________________________________</span></span><br><span class="line"><span class="string">    输出结果</span></span><br><span class="line"><span class="string">    	j 是7位数。</span></span><br><span class="line"><span class="string">    	Mary</span></span><br><span class="line"><span class="string">		F</span></span><br><span class="line"><span class="string">		1976</span></span><br></pre></td></tr></table></figure>



<h1 id="printf-和-println"><a href="#printf-和-println" class="headerlink" title="printf 和 println"></a>printf 和 println</h1><p>多个参数可以使用printf ，输出几进制进制用prtinf</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">int i, j，k;</span><br><span class="line">i &#x3D; 1;</span><br><span class="line">j &#x3D; 2;</span><br><span class="line">k &#x3D; 3;</span><br><span class="line">System.out.printf(&quot;%d的值 + %d的值 是 %d\n&quot;, i, j, k);</span><br><span class="line">System.out.printf(i + &quot;的值 +&quot; + j + &quot;的值 是&quot; + k);</span><br></pre></td></tr></table></figure>



<h1 id="StringBuffer类由来"><a href="#StringBuffer类由来" class="headerlink" title="StringBuffer类由来"></a>StringBuffer类由来</h1><ul>
<li>String类对象一旦创建就不可更改</li>
<li>如果经常对字符串内容进行修改，则使用StringBuffer.</li>
<li><strong>如果经常对字符串内容进行修改而使用String的话，就会导致即耗空间又耗时间!</strong></li>
<li>StringBuffer对象的内容是可以改变的</li>
<li><strong>因此String类中没有修改字符串的方法，但是StringBuffer类中却有大量修改字符串的方法</strong></li>
</ul>
<h1 id="StringBuffer类的构造函数"><a href="#StringBuffer类的构造函数" class="headerlink" title="StringBuffer类的构造函数"></a>StringBuffer类的构造函数</h1><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">StringBuffer</span><span class="params">()</span></span></span><br><span class="line"><span class="function">	创建一个空的没有任何字符的StringBuffer对象</span></span><br><span class="line"><span class="function">    </span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">StringBuffer</span><span class="params">(<span class="keyword">int</span> capacity)</span></span></span><br><span class="line"><span class="function">	创建一个不带字符，但具有指定初始容量的字符串缓冲区。</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">StringBuffer</span><span class="params">(String str)</span></span></span><br><span class="line"><span class="function">	创建一个StringBuffer对象，包含与str对象相同的字符序列</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">例子</span></span><br><span class="line"><span class="function">   StringBuffer s </span>= <span class="keyword">new</span> StringBuffer(str);</span><br></pre></td></tr></table></figure>

<p>字符串本身就是string对象</p>
<p>例子</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestStringBuffer</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        StringBuffer sb= <span class="keyword">new</span> StringBuffer();</span><br><span class="line">        sb.append(<span class="string">&quot;abc&quot;</span>);</span><br><span class="line">        sb.oppend(<span class="string">&quot;123&quot;</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;sb= &quot;</span>+ sb); <span class="comment">//sb= abc123</span></span><br><span class="line">        sb.insert(<span class="number">3</span>,<span class="string">&quot;--&quot;</span>);</span><br><span class="line">        System.out.printin(<span class="string">&quot;sb = &quot;</span> + sb); <span class="comment">//sb = abc--123</span></span><br><span class="line">        sb.delete(<span class="number">2</span>,<span class="number">6</span>); <span class="comment">//把下标从2开始到6-1结束的字符到除</span></span><br><span class="line">        System.out.println(<span class="string">&quot;sb = &quot;</span> + sb); <span class="comment">//sb = ab23</span></span><br><span class="line">        sb.reverse();</span><br><span class="line">        system.out.println(<span class="string">&quot;sb= &quot;</span> + sb); <span class="comment">//sb = 32ba</span></span><br><span class="line">        String str = sb.toString();</span><br><span class="line">        System.out.printf(<span class="string">&quot;str = &quot;</span> + str); <span class="comment">//str = 32ba</span></span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>StringBuffer常用方法查阅手册</p>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
    </footer>
  </div>

    
 
    
</article>

    
    <article
  id="post-Java-4toString"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2021/04/15/Java-4toString/"
    >Java 4toString</a> 
</h2>
 

    </header>
     
    <div class="article-meta">
      <a href="/2021/04/15/Java-4toString/" class="article-date">
  <time datetime="2021-04-15T02:19:46.000Z" itemprop="datePublished">2021-04-15</time>
</a> 
  <div class="article-category">
    <a class="article-category-link" href="/categories/Java/">Java</a>
  </div>
   
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <h1 id="ToString-方法介绍"><a href="#ToString-方法介绍" class="headerlink" title="ToString()方法介绍"></a>ToString()方法介绍</h1><p>类会自动继承Object，里面的ToString方法会输出 <strong>（类名）@（对象的哈希码）</strong></p>
<p><img src="/2021/04/15/Java-4toString/%E7%A4%BA%E4%BE%8B1.png"></p>
<p><strong>@后是对象内存地址的十六进制表示</strong></p>
<p><strong>ToString里面存有对象信息</strong></p>
<p>例子：System.out.println(类对象名)；示例1</p>
<p>未重写ToString方法</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestToString</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">		A aa = <span class="keyword">new</span> A();</span><br><span class="line">		System.out.println(aa);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line">__________________________________________________</span><br><span class="line">输出结果</span><br><span class="line">    A<span class="meta">@de6ced</span></span><br></pre></td></tr></table></figure>

<p>重写ToSrting方法</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">		<span class="keyword">return</span><span class="string">&quot;哈哈&quot;</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestToString</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        A aa = <span class="keyword">new</span> A();</span><br><span class="line">        System.out.println(aa);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line">________________________________________________</span><br><span class="line">    输出结果</span><br><span class="line">    	哈哈</span><br></pre></td></tr></table></figure>

<h1 id="toString方法总结"><a href="#toString方法总结" class="headerlink" title="toString方法总结"></a>toString方法总结</h1><ul>
<li>所有的类都默认自动继承了Object类</li>
<li>Object类中的toString方法返回的是<strong>类的名字和该对象哈希吗组成</strong>的一个字符串-</li>
<li>system.out.printIn(类对对象);<pre><code>   实际输出的是该对象的toString()方法所返回的字符串
</code></pre>
</li>
<li>为了实际需要，建议子类重写从父类Object继承的toString方法</li>
</ul>
<h1 id="equals"><a href="#equals" class="headerlink" title="equals"></a>equals</h1><p>String类，处理字符串</p>
<p>String类中的Equals方法是比较字符串方法</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">A aa1 &#x3D; new A(2);</span><br><span class="line">A aa2 &#x3D; new A(2);</span><br></pre></td></tr></table></figure>

<p>aa1 和 aa2 里面存储的是内存地址</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">System.out.println( aa1.equals(aa2) ); &#x2F;&#x2F;相互比较</span><br></pre></td></tr></table></figure>

<p>Obj的equals认为值虽然一样但内存地址不一样输出falst</p>
<p>容器 List 和 set 不允许存储相同元素就需要重写equals</p>
<p>例子</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">equals</span><span class="params">(Object obj)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="comment">//if(当前对象的i和obj代表的i相等)</span></span><br><span class="line">        <span class="comment">//if(this.i == obj.i) //Obj.i 这么写是错误的，父类的引用不能调用子类特有的成员</span></span><br><span class="line">  		</span><br><span class="line">        <span class="comment">//正确</span></span><br><span class="line">        A aa = (A)Obj;</span><br><span class="line">        <span class="keyword">if</span>(<span class="keyword">this</span>.i ==aa.i)</span><br><span class="line">        	<span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        	<span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestStringEquals_2</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        aa1 = <span class="keyword">new</span> A(<span class="number">2</span>);</span><br><span class="line">    	aa2 = <span class="keyword">new</span> A(<span class="number">2</span>);</span><br><span class="line">    	System.out.print1n( aa1.equals(aa2) );<span class="comment">//true</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h1 id="Object类的equals方法"><a href="#Object类的equals方法" class="headerlink" title="Object类的equals方法"></a>Object类的equals方法</h1><ul>
<li>所有类都从Object类中继承了equlas方法o</li>
<li>bject类中equals方法源代码如下:</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">equals</span><span class="params">(Object obj)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">return</span> <span class="keyword">this</span> == obj;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>Object中的equals方法是直接判断this和obj本身的值是否相等，即用来判断调用equals的对象和形参obj所引用的对象是否是同一对象，所谓同一对象就是指是内存中同一块存储单元，如果this和obj指向的是同一块内存对象，则返回true，如果this和obj指向的不是同一块内存，则返回false,注意：<strong>即便是内容完全相等的两块不同的内存对象，也会返回false</strong></li>
<li><strong>如果是同一块内存，则Object中的equals方法返回true。如果是不同的内存，则返回false</strong></li>
</ul>
<h1 id="何时需要重写euqals方法"><a href="#何时需要重写euqals方法" class="headerlink" title="何时需要重写euqals方法"></a>何时需要重写euqals方法</h1><ul>
<li>用一个类构造出来的不同内存的两个对象，如果内存中的值相等，我们一般情况下也应该认为这两个对象相等，很明显Object中的equals()无法完成这样的重任，Object中的<br>equals()方法只有在两个对象是同一块内存时，才返回true,这时候我们就有必要重写父类Object中的equals方法</li>
<li>如果希望<strong>不同内存但相同内容的两个对象equals时返回true</strong>，则我们需要重写父类的equals方法</li>
</ul>
<p>例子</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">int</span> i;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">A</span><span class="params">(<span class="keyword">int</span> i)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">		<span class="keyword">this</span>.i = i;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        A aa1 = <span class="keyword">new</span> A(<span class="number">1</span>);</span><br><span class="line">        A aa2 = <span class="keyword">new</span> A(<span class="number">1</span>);</span><br><span class="line">        System.out.println(aa1 == aa2);</span><br><span class="line">        system.out.println(aa1.equals(aa2));   </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">___________________________</span><br><span class="line">    输出结果</span><br><span class="line">    	<span class="keyword">false</span></span><br><span class="line">    	<span class="keyword">false</span></span><br></pre></td></tr></table></figure>

 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
    </footer>
  </div>

    
 
    
</article>

    
    <article
  id="post-Java-3异常"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2021/04/12/Java-3%E5%BC%82%E5%B8%B8/"
    >Java 3异常</a> 
</h2>
 

    </header>
     
    <div class="article-meta">
      <a href="/2021/04/12/Java-3%E5%BC%82%E5%B8%B8/" class="article-date">
  <time datetime="2021-04-12T07:04:40.000Z" itemprop="datePublished">2021-04-12</time>
</a> 
  <div class="article-category">
    <a class="article-category-link" href="/categories/Java/">Java</a>
  </div>
   
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <h1 id="异常-try-…-catch"><a href="#异常-try-…-catch" class="headerlink" title="异常 try … catch"></a>异常 try … catch</h1><p><strong>异常（exception）不是编译错误，是运行错误，编译错误是error，异常是一个对象</strong></p>
<p>异常(Exception)是程序运行过程中发生的事件，该事件可以中断程序指令的正常执行流程。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestExcep_1</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">		A aa = <span class="keyword">new</span> A();</span><br><span class="line">		<span class="keyword">try</span></span><br><span class="line">		&#123;</span><br><span class="line">			aa.divide(<span class="number">6</span>,O); <span class="comment">//可能错误的代码</span></span><br><span class="line">        &#125;</span><br><span class="line">		<span class="keyword">catch</span>(ArithmeticExcdption e) <span class="comment">//抓取的异常，e用来接收23行抛出的异常对象，e是接受异常的对象</span></span><br><span class="line">        &#123;</span><br><span class="line">            e.printStackTrace(); <span class="comment">//可以简单理解为输出该异常的具体信息</span></span><br><span class="line">			System.out.printf(<span class="string">&quot;除零错误，你的程序出错啦!除数不能为零，嘿&quot;</span>);</span><br><span class="line">			<span class="comment">//应该怎么做</span></span><br><span class="line">		&#125;</span><br><span class="line">        </span><br><span class="line">		System.out.printf(<span class="string">&quot;今天我很高心，因为我和世界的关系和和谐!\n&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>只有放进try才会被捕抓到，程序不会连着抛两个异常</strong></p>
<h1 id="异常的分类"><a href="#异常的分类" class="headerlink" title="异常的分类"></a>异常的分类</h1><p><img src="/2021/04/12/Java-3%E5%BC%82%E5%B8%B8/%E5%BC%82%E5%B8%B8%E5%88%86%E7%B1%BB.png"></p>
<ol>
<li>Error是系统错误，程序员无法处理这些异常</li>
<li>Exception是程序员可以捕获并处理的异常</li>
<li>RuntimeException的子类异常是你可以处理也可以不处理的异常</li>
<li>凡是继承自Exception但又不是 RuntimeException子类的异常我们都必须的捕捉并进行处理</li>
<li>不知道异常的名字，可以写Exception ，因为它是所有的异常的父类</li>
</ol>
<p><strong>注意：</strong></p>
<p>​    Java认为放在try里的代码可能不会执行成功，所以m不会赋值成功</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span> <span class="title">Excep_2</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">		<span class="keyword">int</span> m;</span><br><span class="line">		<span class="keyword">try</span></span><br><span class="line">		&#123;</span><br><span class="line">			m=<span class="number">2</span>;</span><br><span class="line">			System.out.printf(<span class="string">&quot;m = %d\n&quot;</span>, m);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">catch</span> (Except ion e)</span><br><span class="line">        &#123;</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">        Systcem.out.printf(<span class="string">&quot;m = %d\n&quot;</span>, m);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>Error:<br>由Java虚拟机生成并抛出，包括动态链接失败、虚拟机错误等，<strong>Java程序无法对此错误进行处理。</strong></li>
<li>Runtime Exception:（可不抓也可不抓）<br>.Java虚拟机在运行时生成的异常，如被0除等系统错误、数组下标超范围等，<strong>其产生比较频繁，处理麻烦，对程序可读性和运行效率影响太大</strong>天。因此由系统检测，用户可不做处理，系统将它们交给缺省的异常处理程序（当然，必要时,用户可对其处理)。</li>
<li>Exception:<br>一般程序中可预知的问题，其产生的异常可能会带来意想不到的结果，因此<strong>Java编译器要求Java程序必须捕获或声明所有的非运行时异常</strong></li>
</ul>
<h1 id="为什么需要异常"><a href="#为什么需要异常" class="headerlink" title="为什么需要异常"></a>为什么需要异常</h1><p>例子：从键盘输入整数，不能使用if……else处理</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.uti1.Scanner;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestExcep_3</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">		<span class="keyword">int</span> i;</span><br><span class="line">		Scanner sc = <span class="keyword">new</span> Scanner(System.in); <span class="comment">//System.in 表示键盘 </span></span><br><span class="line">        i = sc.nextInt();</span><br><span class="line">		System.out.printf(<span class="string">&quot;i= %d\n&quot;</span>, i);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>示例1：编程实现把键盘输入的数字赋给整型变量</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestInput_2</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">		Scanner sc = <span class="keyword">new</span> Scanner(System.in);</span><br><span class="line">        <span class="keyword">int</span> i = sc.nextilst();</span><br><span class="line">		System.out.println(<span class="string">&quot;i= &quot;</span> + i);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>如果输入的不是合法数字运行结果如下:</p>
<p><img src="/2021/04/12/Java-3%E5%BC%82%E5%B8%B8/%E6%8A%A5%E9%94%99.png"></p>
<h2 id="读写错误异常-的处理"><a href="#读写错误异常-的处理" class="headerlink" title="读写错误异常 的处理"></a>读写错误异常 的处理</h2><p>​    本程序出现的问题是无法通过逻辑判断来解决的，Java提供的异常处理机制可以很好的解决这个问题</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestInput</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">		Scanner sc = <span class="keyword">null</span>;</span><br><span class="line">		<span class="keyword">try</span></span><br><span class="line">    	&#123;</span><br><span class="line">			sc = <span class="keyword">new</span> Scanner(System.in);</span><br><span class="line">        	<span class="keyword">int</span> i = sc.nextInt();</span><br><span class="line">			System.out.printf(<span class="string">&quot;%d\n&quot;</span>, i);</span><br><span class="line">    	&#125;</span><br><span class="line">		<span class="keyword">catch</span> (InputMismatchException e)</span><br><span class="line">    	&#123;</span><br><span class="line">			System.out.println(<span class="string">&quot;读取错误，程序将终止&quot;</span>);</span><br><span class="line">		&#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h1 id="异常的处理机制-重点"><a href="#异常的处理机制-重点" class="headerlink" title="异常的处理机制(重点)"></a>异常的处理机制(重点)</h1><ul>
<li>当Java程序运行时出现问题时，系统会自动检测到该错误，并立即生成一个与该错误对应的异常对象</li>
<li>然后把该异常对象提交给Java虚拟机</li>
<li>Java虚拟机会自动寻找相应的处理代码来处理这个异常，如果没有找到，则由Java虚拟机做一些简单的处理后，程序被强行终止！</li>
<li>程序员可以自己编写代码来捕捉可能出现的异常，并编写代码来处理相应的异常</li>
</ul>
<h3 id="printStackTrace方法-输出异常信息"><a href="#printStackTrace方法-输出异常信息" class="headerlink" title="printStackTrace方法 输出异常信息"></a>printStackTrace方法 输出异常信息</h3><h2 id="可处理可不处理的异常-和-必须得进行处理的异常"><a href="#可处理可不处理的异常-和-必须得进行处理的异常" class="headerlink" title="可处理可不处理的异常 和 必须得进行处理的异常"></a>可处理可不处理的异常 和 必须得进行处理的异常</h2><h3 id="常见异常之空指针异常"><a href="#常见异常之空指针异常" class="headerlink" title="常见异常之空指针异常"></a>常见异常之空指针异常</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">int</span> age;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestNullPointerException</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">		Person p = <span class="keyword">null</span>;</span><br><span class="line">		System.out.printin(p.age);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>运行结果：</p>
<p><img src="/2021/04/12/Java-3%E5%BC%82%E5%B8%B8/%E8%BF%90%E8%A1%8C%E7%BB%93%E6%9E%9C1.png"></p>
<h3 id="常见异常之下标越界异常"><a href="#常见异常之下标越界异常" class="headerlink" title="常见异常之下标越界异常"></a>常见异常之下标越界异常</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestlndexOutof</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">		String friends[]=&#123;<span class="string">&quot;Lisa&quot;</span>,<span class="string">&quot;Bily&quot;</span>,<span class="string">&quot;Kessy&quot;</span>&#125;;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;<span class="number">5</span>; i++)</span><br><span class="line">        &#123;</span><br><span class="line">			System.out.println(friends[i]);</span><br><span class="line">		&#125;</span><br><span class="line">		System.out.println(<span class="string">&quot;\nthis is the end&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>运行结果：</p>
<p><img src="/2021/04/12/Java-3%E5%BC%82%E5%B8%B8/%E8%BF%90%E8%A1%8C%E7%BB%93%E6%9E%9C2.png"></p>
<h1 id="处理异常的两种方式"><a href="#处理异常的两种方式" class="headerlink" title="处理异常的两种方式"></a>处理异常的两种方式</h1><h2 id="第一种-throw抛出"><a href="#第一种-throw抛出" class="headerlink" title="第一种 throw抛出"></a>第一种 throw抛出</h2><p>有些异常不处理编译会抛出，f()没有对异常进行处理，交给被调用者处理</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.*;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">	<span class="comment">//public void f()</span></span><br><span class="line">    <span class="comment">//&#123;</span></span><br><span class="line">		<span class="comment">//throw new IOException(); //throw 抛出异常，交给mian处理</span></span><br><span class="line"></span><br><span class="line">	<span class="comment">//&#125;</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">g</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">		<span class="keyword">throw</span> <span class="keyword">new</span> ArithmeticException();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestExcep_5</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="comment">//throws IOException</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        A aa = <span class="keyword">new</span> A();</span><br><span class="line">		<span class="keyword">try</span></span><br><span class="line">		&#123;</span><br><span class="line">			aa.f();</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">catch</span> (IOException e)</span><br><span class="line">        &#123;   </span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>throw将异常抛出函数不处理</strong></p>
<h2 id="第二种本函数处理"><a href="#第二种本函数处理" class="headerlink" title="第二种本函数处理"></a>第二种本函数处理</h2><h1 id="finally"><a href="#finally" class="headerlink" title="finally"></a>finally</h1><h2 id="异常处理步骤"><a href="#异常处理步骤" class="headerlink" title="异常处理步骤"></a>异常处理步骤</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span></span><br><span class="line">&#123;</span><br><span class="line">	可能出现异常的代码块</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">catch</span> (ExceptionName1 e)</span><br><span class="line">&#123;</span><br><span class="line">	当产生ExceptionName1异常时的处理措施</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">catch</span> (ExceptionName2 e)</span><br><span class="line">&#123;</span><br><span class="line">	当产生ExceptionName2异常时的处理措施</span><br><span class="line">&#125;</span><br><span class="line">........</span><br><span class="line"><span class="keyword">finally</span></span><br><span class="line">&#123;</span><br><span class="line">	无论是否捕捉到异常都必须处理的代码</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="Finally的作用"><a href="#Finally的作用" class="headerlink" title="Finally的作用"></a>Finally的作用</h2><ul>
<li>无论try所指定的程序块中是否抛出异常，也无论catch语句的异常类型是否与所抛弃的异常的类型一致，<strong>finally中的代码一定会得到执行</strong></li>
<li>finally语句为异常处理提供一个统一的出口，使得在控制流程转到程序的其他部分以前，<strong>能够对程序的状态作统一的管理</strong></li>
<li>通常在finally语句中可以<strong>进行资源的清除工作，如关闭打开的文件、删除临时文件等</strong></li>
</ul>
<h1 id="自定义异常-和-throws常见错误解析"><a href="#自定义异常-和-throws常见错误解析" class="headerlink" title="自定义异常 和 throws常见错误解析"></a>自定义异常 和 throws常见错误解析</h1><h2 id="throw"><a href="#throw" class="headerlink" title="throw"></a>throw</h2><ul>
<li><p>throw用来抛出异常</p>
</li>
<li><p>格式：<br>throw new异常名(参数);</p>
</li>
<li><p>假设f方法抛出了A异常，则f方法有两种方式来处理A异常</p>
<ul>
<li><ol>
<li>throws A<br> 谁调用f方法，谁处理A异常，f方法本身不处理A异常</li>
<li>try{ ..….} catch () { …..….}<br> f方法本身自己来处理A异常</li>
</ol>
</li>
</ul>
</li>
<li><p><strong>要抛出的异常必须得是Throwable的子类</strong></p>
</li>
</ul>
<p>自定义异常</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.*;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">B</span> <span class="keyword">extends</span> <span class="title">Throwable</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">f</span><span class="params">()</span> <span class="keyword">throws</span> IOException</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">		<span class="keyword">throw</span> <span class="keyword">new</span> IOException(); <span class="comment">//throw 抛出异常</span></span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">g</span><span class="params">()</span> <span class="keyword">throws</span> B</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">		<span class="keyword">throw</span> <span class="keyword">new</span> B();</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="throws"><a href="#throws" class="headerlink" title="throws"></a>throws</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">void f() throws A</span><br><span class="line">&#123;</span><br><span class="line">	.....</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>​    thows A表示调用f方法时f方法可能会抛出A类异常，建议您调用f方法时最好对f方法可能抛出的A类异常进行捕捉</p>
<ul>
<li><p><strong>throws A不表示f方法一定会抛出A类异常</strong></p>
<p>throws A,f方法也可以不抛出A类异常</p>
</li>
<li><p><strong>throws A不表示调用f方法时,必须的对A异常进行捕捉</strong></p>
<ul>
<li>假设A是RuntimeException子类异常<pre><code>由于RuntimeException的子类异常可以处理也可以不处理，所以编译器允许你调用f方
</code></pre>
法时，对f方法抛出的RuntimeException子类异常不进行处理</li>
</ul>
</li>
<li><p><strong>强烈建议你</strong></p>
<ul>
<li><strong>对throws出的所有异常进行处理</strong></li>
<li><strong>如果一个方法内部己经对A异常进行了处理,则就不要再throws A</strong></li>
</ul>
</li>
</ul>
<p>例如</p>
<p><img src><img src="/2021/04/12/Java-3%E5%BC%82%E5%B8%B8/thrwos1.png" alt="thrwos1"></p>
<p><img src="/2021/04/12/Java-3%E5%BC%82%E5%B8%B8/throws2.png"></p>
<p>​    <strong>自己设计f方法，内部写有throw，函数名就要写throws。如果不是设计f方法，而是调用f方法，看到写了throws不管是否要捕获，都要自己进行捕获</strong></p>
<p>​    <strong>自己定义的异常要继承Exception</strong></p>
<h1 id="小知识"><a href="#小知识" class="headerlink" title="小知识"></a>小知识</h1><p>异常抛出的是一个对象</p>
<p>抛出代码要怎么写</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">throw new DivisorIsZeroExceptior();</span><br></pre></td></tr></table></figure>



<p>Throwa 只能抛出类，表示一个声明</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">int</span> <span class="title">divide</span><span class="params">(<span class="keyword">int</span> a, <span class="keyword">int</span> b)</span> <span class="keyword">throws</span> DivisorIsZeroException</span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">		<span class="keyword">try</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(<span class="number">0</span>==b)</span><br><span class="line">				<span class="keyword">throw</span> <span class="keyword">new</span> DivisorIsZeroException(<span class="string">&quot;除数不能为零!&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">catch</span> (DivisorIsZeroException e)</span><br><span class="line">        &#123;</span><br><span class="line">        	e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">if</span>(<span class="number">0</span>==b)</span><br><span class="line">		<span class="keyword">throw</span> <span class="keyword">new</span> DivisorIsZeroException(<span class="string">&quot;除数不能为零!&quot;</span>):</span><br><span class="line">	<span class="keyword">int</span> m=a/b;</span><br><span class="line">	<span class="keyword">return</span> m;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h4 id="小剧场"><a href="#小剧场" class="headerlink" title="小剧场"></a>小剧场</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">void f() throws A</span><br><span class="line">&#123;</span><br><span class="line">	.....</span><br><span class="line">&#125;</span><br><span class="line">void g()</span><br><span class="line">&#123;</span><br><span class="line">	f();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>throws A可以不抛异常，g可以直接调用不需要捕获A异常</p>
<ol>
<li><p>Throws A不表示f一定抛出A</p>
</li>
<li><p>Throws A不表示g调用f时一定要捕获A</p>
<p>​    要看A是什么异常，如果A是可处理可不处理的异常，g就不需要捕获，如果是必须处理g调用f()时，要写try</p>
</li>
</ol>
<p>3.果A是必须处理的异常，内部不一定要捕获</p>
<h1 id="注意问题"><a href="#注意问题" class="headerlink" title="注意问题"></a>注意问题</h1><ul>
<li>所有的catch只能有一个被执行</li>
<li>有可能所有的catch都没有执行</li>
<li><strong>先catch子类异常再catch父类异常</strong><br>■如果先catch父类异常再catch子类异常，则编译时会报错</li>
<li>catch与catch之间是不能有其他代码的</li>
<li><strong>重写方法抛出异常的范围不能大于被重写方法排除的异常范围</strong></li>
</ul>
<h2 id="异常的范围"><a href="#异常的范围" class="headerlink" title="异常的范围"></a>异常的范围</h2><p>​    A,B,C 三个异常A是父类，B继承A，C继承B，A,B,C三个异常都可以被A捕获，因为A是父类，所以<strong>先catch子类异常再catch父类异常</strong></p>
<h1 id="异常的优点"><a href="#异常的优点" class="headerlink" title="异常的优点"></a>异常的优点</h1><p><img src="/2021/04/12/Java-3%E5%BC%82%E5%B8%B8/%E6%B2%A1%E6%9C%89%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86%E7%9A%84%E7%A8%8B%E5%BA%8F.png"></p>
<p><img src="/2021/04/12/Java-3%E5%BC%82%E5%B8%B8/%E6%9C%89%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86%E7%A8%8B%E5%BA%8F.png"></p>
<p>以常规方法处理错误存在的问题<br>■ 观察前面的程序，大家会发现大部分精力花在出错处理上了<br>■ 只把能够想到的错误考虑到，对以外的情况无法处理<br>■ 程序可读性差，大量的错误处理代码混杂在程序中<br>■ 出错返回信息量太少，无法更确切的了解错误状况或原因</p>
<p><img src="/2021/04/12/Java-3%E5%BC%82%E5%B8%B8/%E6%9C%89%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86%E7%A8%8B%E5%BA%8F.png"></p>
<h2 id="异常的优缺点"><a href="#异常的优缺点" class="headerlink" title="异常的优缺点"></a>异常的优缺点</h2><h3 id="优点"><a href="#优点" class="headerlink" title="优点"></a>优点</h3><p>■ 强制程序员考虑程序的安全性与健壮性<br>■ 增强了程序员对程序的可控性<br>■ 有利于代码的调试<br>■ 把错误处理代码从常规代码中分离出来</p>
<h3 id="注意："><a href="#注意：" class="headerlink" title="注意："></a>注意：</h3><p>■ 异常并不一定能够使程序的逻辑更清晰<br>    因为有时我们必须得编写代码捕捉异常，所以可能会导致程序的逻辑非常混乱<br>■ 异常并不能解决所有的问题</p>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
    </footer>
  </div>

    
 
    
</article>

    
    <article
  id="post-Java-2包"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2021/04/09/Java-2%E5%8C%85/"
    >Java 2包</a> 
</h2>
 

    </header>
     
    <div class="article-meta">
      <a href="/2021/04/09/Java-2%E5%8C%85/" class="article-date">
  <time datetime="2021-04-09T03:01:17.000Z" itemprop="datePublished">2021-04-09</time>
</a> 
  <div class="article-category">
    <a class="article-category-link" href="/categories/Java/">Java</a>
  </div>
   
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <h1 id="包声明-package"><a href="#包声明-package" class="headerlink" title="包声明 package"></a>包声明 package</h1><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//文件名“TestPackage.java&quot;</span></span><br><span class="line"><span class="keyword">package</span> zhangsan.lisi; <span class="comment">//1行</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestPackage</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> statit <span class="keyword">void</span> <span class="title">main</span><span class="params">(String0 args)</span></span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">		<span class="keyword">new</span> A().print(); </span><br><span class="line">	&#125;</span><br><span class="line">    </span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">print</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">		System.out.println(<span class="string">&quot;AAAAA&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ol>
<li>package语句必须得是第一条语句</li>
<li>package zhangsan.lisi表示:<br> 把该文件中所有的类放入zhangsan.lisi这个包中（把编译的东西放进zhangsan文件夹下的lisi的文件夹下），并且该文件中所有的<strong>类真正名字将是包名和类名的组合</strong></li>
<li>如:类TestPackage 的名字将变成zhangsan.isl.TestPackage，而不再是TestPackage</li>
<li>编译时建议使用 javac-d . TestPackage.java 尽量不要使用 javac TestPackage.java 因为后者要自己手动建立包目录</li>
<li>如果不在当前路径下运行程序，则必须保证class文件的最上层目录的父目录位于classpath下</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> zhangsan.lisi;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">f</span><span class="params">()</span> </span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">		System.out.printf(<span class="string">&quot;AAAA\n&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">    </span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">M</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">		<span class="keyword">new</span> A().f();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>如果使用javac 需要手动建立包成</p>
<p><strong>真正的类名是 包层+类名</strong></p>
<p>建议使用命令</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">javac -d 启动类名.java</span><br></pre></td></tr></table></figure>



<h4 id="java-zhangsan-lisi-TestPackage解析"><a href="#java-zhangsan-lisi-TestPackage解析" class="headerlink" title="java zhangsan.lisi.TestPackage解析"></a>java zhangsan.lisi.TestPackage解析</h4><p>​    先检测当前目录下是否有zhangsan/isi这个包(包即文件夹)，如果有,再检测该包下是否有zhangsan.lisiTestPackage 这个类，如果没有，编译器将再去classpath设置的路径中依次查找。如果都查找失败，则运行时出错</p>
<p>​    设置变量设置到包层里是错误的，程序找不到包层，设置环境变量要设置最上层</p>
<h1 id="同包-和-不同包-类的相互访问"><a href="#同包-和-不同包-类的相互访问" class="headerlink" title="同包 和 不同包 类的相互访问"></a>同包 和 不同包 类的相互访问</h1><ul>
<li>包相当于一个文件夹</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//A.java文件</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">f</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">     	System.out.println (<span class="string">&quot;AAAA&quot;</span>);   </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//B.java文件</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">B</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">     	aa = <span class="keyword">new</span> A();</span><br><span class="line">        aa.f();   </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>执行命令</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Javac A.java B.java</span><br><span class="line">java B</span><br><span class="line">----------------------------------</span><br><span class="line">输出结果</span><br><span class="line">AAAA</span><br></pre></td></tr></table></figure>

<p>附注：</p>
<p>​    因为类A和类B默认是在同一个无名的包中所以彼此可以相互访问，只要是非私有成员都可以被同包的另二个类访问</p>
<h1 id="不同包类的相互访问"><a href="#不同包类的相互访问" class="headerlink" title="不同包类的相互访问"></a>不同包类的相互访问</h1><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//文件名 A.java</span></span><br><span class="line"><span class="keyword">package</span> zhangsan.lisi;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">A</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">ma</span><span class="params">()</span></span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">		System.out.printf(<span class="string">&quot;AAAAA&quot;</span>);		</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//文件名 B.java</span></span><br><span class="line"><span class="keyword">package</span> com.ruide;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">B</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">		zhangsan.lisi.A aa= <span class="keyword">new</span> zhangsan.lisi.A();</span><br><span class="line">        aa.ma();</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>单独编译时必须的先编译A.java,后编译B.jva，否则会出错建议两个文件一起编译</p>
<p>命令</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">	javac -d . A.java B.java</span><br><span class="line">或</span><br><span class="line">	javac -d . B.java A.java</span><br></pre></td></tr></table></figure>

<p><strong>只有公有类才能被另一个包访问</strong></p>
<h2 id="不同访问修饰符"><a href="#不同访问修饰符" class="headerlink" title="不同访问修饰符"></a>不同访问修饰符</h2><ul>
<li>在同一个包中只有私有的不能被另一个类访问，也只有私有的不能被继承</li>
<li>在不同包没有任何关系的两个类，只有public类的public成员才可以被另一个类访问</li>
<li>在不同包中有继承关系的两个类，只有public类的public成员和public类的protected成员可以被另一个包中的子类在内部使用，但是在子类的外部，通过子类对象名只能访问父类的public成员</li>
</ul>
<h1 id="使用不同包类的方式"><a href="#使用不同包类的方式" class="headerlink" title="使用不同包类的方式"></a>使用不同包类的方式</h1><p><strong>第一种：使用一个类的全名</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.ruide;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">B</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">		zhangsan.lisi.A aa = <span class="keyword">new</span> zhangsan.lisi.A();</span><br><span class="line">        aa.ma();</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>第二种：使用import语句导入一个包中所有的类</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.ruide;</span><br><span class="line"><span class="keyword">import</span> zhangsan.lisi.*;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">B</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">		A aa = <span class="keyword">new</span> A();</span><br><span class="line">        aa.ma();</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>第三种：使用import语句导入一个包中特定的类</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.ruide;</span><br><span class="line"><span class="keyword">import</span> zhangsan.lisi.A;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">B</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">		A aa = <span class="keyword">new</span> A();aa.ma();</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>注意:导入父包的类并不会自动导入子包的类</strong><br>    如: import zhangsan.*****；只会导入zhangsan这个包下的所有类，并不会导入zhangsan子包lisi这个包中的类<br>    考虑: import java.awt.*****；和 import java.awt.event.*；的区别</p>
<h3 id="不同包之间的相互方问"><a href="#不同包之间的相互方问" class="headerlink" title="不同包之间的相互方问"></a>不同包之间的相互方问</h3><p>不是内部类，不能添加修饰符，要加就加公有，要不什么都不加</p>
<p>两个不同的包，只能访问包的公有类，调用的只能是类的公有方法</p>
<p>不同包继承父类也是只能访问公有的</p>
<h1 id="jar包的生成-avi"><a href="#jar包的生成-avi" class="headerlink" title="jar包的生成 .avi"></a>jar包的生成 .avi</h1><h2 id="归档工具jar"><a href="#归档工具jar" class="headerlink" title="归档工具jar"></a>归档工具jar</h2><p>​    Java归档工具是JDK中提供的一种多用途的存档及压缩工具，可以将多个文件或目录合并压缩为单个的Java归档文件</p>
<p><strong>jar文件的主要作用：</strong><br>    发布和使用类库<br>    便于资源的组合和管理</p>
<p>例如：进入文件夹，把当前文件夹打一个架包，T是名字</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">\桌面\java\&gt;jar cvf T.jar *</span><br></pre></td></tr></table></figure>

<p>架包不能双击打开，除非有菜单页面，可以用压缩包软件打开</p>
<h2 id="Jar使用举例"><a href="#Jar使用举例" class="headerlink" title="Jar使用举例"></a>Jar使用举例</h2><p>格式</p>
<ul>
<li><code>jar -cvf 要生成的包名.jar *</code></li>
</ul>
<p>举例</p>
<ul>
<li><p><code>jar -cvf c.jar *</code>  <strong>一般使用第一个</strong></p>
<p>功能：把当前路径下所有的文件即文件夹下所有的内容打包成c.jar</p>
</li>
<li><p><code>jar -tf c.jar</code></p>
<p>功能：在DOS下显示c.jar这个包解压后的文件的内容</p>
</li>
<li><p><code>jar -xf d:\1\c.jar</code></p>
<p>功能：把d:\1\c.jar这个文件中的内容解压到当前目录下</p>
</li>
</ul>
<h2 id="如何使用jar包中的类"><a href="#如何使用jar包中的类" class="headerlink" title="如何使用jar包中的类"></a>如何使用jar包中的类</h2><ul>
<li>假设现在有一个T.jar包，要想在任何目录下都可以访问T.jar包中的类，则设置classpath时，必须把包名T.jar也设置进去，因为T.jar也相当于一个目录</li>
<li>如在d:\share\java下有一个T.jar，则classpath必须设置为d:\share\java\T.jar，不能设置为d:\share\java，也不能设置成d:\share\java\T，否则在非当前目录下是无法访问T.jar包中的类的</li>
<li>Jar包也是一个目录</li>
</ul>
<p>例子：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> baichi.shabi;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">A</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">	<span class="comment">//可以把protected改为public,但却不能改为private,也不能在void前面什么都不写</span></span><br><span class="line">	<span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">f</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">		System.out.printf(<span class="string">&quot;AAAAin&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">	</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        aa = <span class="keyword">new</span> A();</span><br><span class="line">		aa.f();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> zhangsan.lisi;</span><br><span class="line"><span class="keyword">import</span> baichi.shabi.*;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">B</span> <span class="keyword">extends</span> <span class="title">A</span></span></span><br><span class="line"><span class="class">	</span>&#123;</span><br><span class="line">    	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">f</span><span class="params">()</span></span>; <span class="comment">//OK</span></span><br><span class="line">		System.out.printf(<span class="string">&quot;GGGGin&quot;</span>);)</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">TestB</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">		B bb = <span class="keyword">new</span> B();</span><br><span class="line">        bb.g(); <span class="comment">//OK</span></span><br><span class="line">		<span class="comment">//bb.f(); //error</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>本程序证明了:<br>    在不同包中有继承关系的两个类，只有public类的public成员和public类的protected成员可以被另一个包中的子类在内部使用，但是在子类的外部，通过子类对象名只能访问父类的public成员</p>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
    </footer>
  </div>

    
 
    
</article>

    
  </article>
  

  
  <nav class="page-nav">
    
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><a class="extend next" rel="next" href="/page/2/">下一页</a>
  </nav>
  
</section>
</div>

      <footer class="footer">
  <div class="outer">
    <ul>
      <li>
        Copyrights &copy;
        2015-2021
        <i class="ri-heart-fill heart_icon"></i> 大白菜
      </li>
    </ul>
    <ul>
      <li>
        
        
        
        由 <a href="https://hexo.io" target="_blank">Hexo</a> 强力驱动
        <span class="division">|</span>
        主题 - <a href="https://github.com/Shen-Yu/hexo-theme-ayer" target="_blank">Ayer</a>
        
      </li>
    </ul>
    <ul>
      <li>
        
        
        <span>
  <span><i class="ri-user-3-fill"></i>访问人数:<span id="busuanzi_value_site_uv"></span></s>
  <span class="division">|</span>
  <span><i class="ri-eye-fill"></i>浏览次数:<span id="busuanzi_value_page_pv"></span></span>
</span>
        
      </li>
    </ul>
    <ul>
      
    </ul>
    <ul>
      
    </ul>
    <ul>
      <li>
        <!-- cnzz统计 -->
        
        <script type="text/javascript" src='https://s9.cnzz.com/z_stat.php?id=1278069914&amp;web_id=1278069914'></script>
        
      </li>
    </ul>
  </div>
</footer>
      <div class="float_btns">
        <div class="totop" id="totop">
  <i class="ri-arrow-up-line"></i>
</div>

<div class="todark" id="todark">
  <i class="ri-moon-line"></i>
</div>

      </div>
    </main>
    <aside class="sidebar on">
      <button class="navbar-toggle"></button>
<nav class="navbar">
  
  <div class="logo">
    <a href="/"><img src="/images/22.jpg" alt="困困"></a>
  </div>
  
  <ul class="nav nav-main">
    
    <li class="nav-item">
      <a class="nav-item-link" href="/">主页</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/archives">归档</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/categories">分类</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/tags">标签</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/friends">友链</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/about">关于我</a>
    </li>
    
  </ul>
</nav>
<nav class="navbar navbar-bottom">
  <ul class="nav">
    <li class="nav-item">
      
      <a class="nav-item-link nav-item-search"  title="搜索">
        <i class="ri-search-line"></i>
      </a>
      
      
      <a class="nav-item-link" target="_blank" href="/atom.xml" title="RSS Feed">
        <i class="ri-rss-line"></i>
      </a>
      
    </li>
  </ul>
</nav>
<div class="search-form-wrap">
  <div class="local-search local-search-plugin">
  <input type="search" id="local-search-input" class="local-search-input" placeholder="Search...">
  <div id="local-search-result" class="local-search-result"></div>
</div>
</div>
    </aside>
    <script>
      if (window.matchMedia("(max-width: 768px)").matches) {
        document.querySelector('.content').classList.remove('on');
        document.querySelector('.sidebar').classList.remove('on');
      }
    </script>
    <div id="mask"></div>

<!-- #reward -->
<div id="reward">
  <span class="close"><i class="ri-close-line"></i></span>
  <p class="reward-p"><i class="ri-cup-line"></i>请我喝杯咖啡吧~</p>
  <div class="reward-box">
    
    <div class="reward-item">
      <img class="reward-img" src="https://cdn.jsdelivr.net/gh/Shen-Yu/cdn/img/alipay.jpg">
      <span class="reward-type">支付宝</span>
    </div>
    
    
    <div class="reward-item">
      <img class="reward-img" src="https://cdn.jsdelivr.net/gh/Shen-Yu/cdn/img/wechat.jpg">
      <span class="reward-type">微信</span>
    </div>
    
  </div>
</div>
    
<script src="/js/jquery-2.0.3.min.js"></script>


<script src="/js/lazyload.min.js"></script>

<!-- Tocbot -->

<script src="https://cdn.jsdelivr.net/npm/jquery-modal@0.9.2/jquery.modal.min.js"></script>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/jquery-modal@0.9.2/jquery.modal.min.css">
<script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js"></script>

<script src="/dist/main.js"></script>

<!-- ImageViewer -->

<!-- Root element of PhotoSwipe. Must have class pswp. -->
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    <!-- Background of PhotoSwipe. 
         It's a separate element as animating opacity is faster than rgba(). -->
    <div class="pswp__bg"></div>

    <!-- Slides wrapper with overflow:hidden. -->
    <div class="pswp__scroll-wrap">

        <!-- Container that holds slides. 
            PhotoSwipe keeps only 3 of them in the DOM to save memory.
            Don't modify these 3 pswp__item elements, data is added later on. -->
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                <!--  Controls are self-explanatory. Order can be changed. -->

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" style="display:none" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                <!-- Preloader demo http://codepen.io/dimsemenov/pen/yyBWoR -->
                <!-- element will get class pswp__preloader--active when preloader is running -->
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                        <div class="pswp__preloader__cut">
                            <div class="pswp__preloader__donut"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div>

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css">
<script src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js"></script>

<script>
    function viewer_init() {
        let pswpElement = document.querySelectorAll('.pswp')[0];
        let $imgArr = document.querySelectorAll(('.article-entry img:not(.reward-img)'))

        $imgArr.forEach(($em, i) => {
            $em.onclick = () => {
                // slider展开状态
                // todo: 这样不好，后面改成状态
                if (document.querySelector('.left-col.show')) return
                let items = []
                $imgArr.forEach(($em2, i2) => {
                    let img = $em2.getAttribute('data-idx', i2)
                    let src = $em2.getAttribute('data-target') || $em2.getAttribute('src')
                    let title = $em2.getAttribute('alt')
                    // 获得原图尺寸
                    const image = new Image()
                    image.src = src
                    items.push({
                        src: src,
                        w: image.width || $em2.width,
                        h: image.height || $em2.height,
                        title: title
                    })
                })
                var gallery = new PhotoSwipe(pswpElement, PhotoSwipeUI_Default, items, {
                    index: parseInt(i)
                });
                gallery.init()
            }
        })
    }
    viewer_init()
</script>

<!-- MathJax -->

<!-- Katex -->

<!-- busuanzi  -->


<script src="/js/busuanzi-2.3.pure.min.js"></script>


<!-- ClickLove -->

<!-- ClickBoom1 -->

<!-- ClickBoom2 -->


<script src="/js/clickBoom2.js"></script>


<!-- CodeCopy -->


<link rel="stylesheet" href="/css/clipboard.css">

<script src="https://cdn.jsdelivr.net/npm/clipboard@2/dist/clipboard.min.js"></script>
<script>
  function wait(callback, seconds) {
    var timelag = null;
    timelag = window.setTimeout(callback, seconds);
  }
  !function (e, t, a) {
    var initCopyCode = function(){
      var copyHtml = '';
      copyHtml += '<button class="btn-copy" data-clipboard-snippet="">';
      copyHtml += '<i class="ri-file-copy-2-line"></i><span>COPY</span>';
      copyHtml += '</button>';
      $(".highlight .code pre").before(copyHtml);
      $(".article pre code").before(copyHtml);
      var clipboard = new ClipboardJS('.btn-copy', {
        target: function(trigger) {
          return trigger.nextElementSibling;
        }
      });
      clipboard.on('success', function(e) {
        let $btn = $(e.trigger);
        $btn.addClass('copied');
        let $icon = $($btn.find('i'));
        $icon.removeClass('ri-file-copy-2-line');
        $icon.addClass('ri-checkbox-circle-line');
        let $span = $($btn.find('span'));
        $span[0].innerText = 'COPIED';
        
        wait(function () { // 等待两秒钟后恢复
          $icon.removeClass('ri-checkbox-circle-line');
          $icon.addClass('ri-file-copy-2-line');
          $span[0].innerText = 'COPY';
        }, 2000);
      });
      clipboard.on('error', function(e) {
        e.clearSelection();
        let $btn = $(e.trigger);
        $btn.addClass('copy-failed');
        let $icon = $($btn.find('i'));
        $icon.removeClass('ri-file-copy-2-line');
        $icon.addClass('ri-time-line');
        let $span = $($btn.find('span'));
        $span[0].innerText = 'COPY FAILED';
        
        wait(function () { // 等待两秒钟后恢复
          $icon.removeClass('ri-time-line');
          $icon.addClass('ri-file-copy-2-line');
          $span[0].innerText = 'COPY';
        }, 2000);
      });
    }
    initCopyCode();
  }(window, document);
</script>


<!-- CanvasBackground -->


<script src="/js/dz.js"></script>



    
  </div>
</body>

</html>